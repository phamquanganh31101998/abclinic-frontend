(function(e){function t(t){for(var n,l,r=t[0],o=t[1],c=t[2],u=0,h=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},s=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/abclinic-frontend/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},4230:function(e,t,a){},"463c":function(e,t,a){"use strict";var n=a("afd3"),i=a.n(n);i.a},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("loading-dialog"),a("router-view"),a("alert")],1)},s=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.color,timeout:0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])},r=[],o=a("5530"),c=a("2f62"),d={data:function(){return{}},computed:Object(o["a"])({},Object(c["b"])({color:"alertColor",snackbar:"alertSnackbar",text:"alertMessage"})),watch:{"$store.state.alertSnackbar":function(){var e=this;1==this.$store.state.alertSnackbar&&setTimeout((function(){e.$store.dispatch("turnOffAlert")}),4e3)}},methods:{turnOffAlert:function(){this.$store.dispatch("turnOffAlert")}}},u=d,h=a("2877"),p=a("6544"),v=a.n(p),g=a("2db4"),f=Object(h["a"])(u,l,r,!1,null,null,null),m=f.exports;v()(f,{VSnackbar:g["a"]});var x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("br"),a("p",[e._v(e._s(e.message))]),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)},b=[],y={data:function(){return{}},computed:Object(o["a"])({},Object(c["b"])({dialog:"loadingDialog",message:"loadingMsg"}))},S=y,I=a("b0af"),k=a("99d9"),D=a("169a"),_=a("8e36"),w=Object(h["a"])(S,x,b,!1,null,"7d26665f",null),T=w.exports;v()(w,{VCard:I["a"],VCardText:k["b"],VDialog:D["a"],VProgressLinear:_["a"]});var P={name:"App",components:{alert:m,loadingDialog:T},data:function(){return{}},computed:{},methods:{}},O=P,R=a("7496"),N=Object(h["a"])(O,i,s,!1,null,null,null),j=N.exports;v()(N,{VApp:R["a"]});var A=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-bar"),a("v-content",[a("transition",{attrs:{name:"slide",mode:"out-in"}},[a("router-view")],1)],1),a("nav-bar")],1)},q=[],C=(a("99af"),a("cc7d")),H=a.n(C),V=a("a187"),B=a.n(V),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{"clipped-left":"",dense:"",app:"",color:"primary",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){return e.toggleNavDrawer()}}}),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.goToPage("/about")}}},[a("v-toolbar-title",[e._v("ABCLINIC")])],1),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":120,left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{fab:"",dark:"",small:"",color:"primary"}},n),[a("v-icon",{attrs:{"x-large":""}},[e._v("account_circle")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"375"}},[a("v-list",{attrs:{"two-line":""}},[null!=e.user?a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"indigo"}},[e._v("person")])],1),a("v-list-item-content",[a("v-list-item-subtitle",[e._v(e._s(e.returnRole(e.user.role)))]),a("v-list-item-title",[e._v(e._s(e.checkString(e.user.name)))])],1)],1):e._e(),a("v-divider"),null!=e.user?a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"indigo"}},[e._v("mdi-email")])],1),a("v-list-item-content",[a("v-list-item-subtitle",[e._v("Email")]),a("v-list-item-title",[e._v(e._s(e.checkString(e.user.email)))])],1)],1):e._e(),a("v-divider"),null!=e.user?a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"indigo"}},[e._v("mdi-phone")])],1),a("v-list-item-content",[a("v-list-item-subtitle",[e._v("Số điện thoại")]),a("v-list-item-title",[e._v(e._s(e.checkString(e.user.phoneNumber)))])],1)],1):e._e(),a("v-divider"),a("v-list-item",[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.logout()}}},[a("span",{staticClass:"mr-2"},[e._v("Đăng xuất")]),a("v-icon",[e._v("mdi-open-in-new")])],1)],1)],1)],1)],1)],1)},U=[],L=(a("d3b7"),a("ac1f"),a("25f0"),a("5319"),{apiUrl:"https://fathomless-savannah-38522.herokuapp.com/api",miscUrl:"https://fathomless-savannah-38522.herokuapp.com/api/misc",authUrl:"https://fathomless-savannah-38522.herokuapp.com/api/auth",userUrl:"https://fathomless-savannah-38522.herokuapp.com/api/user"}),z=(a("96cf"),a("1da1")),G=a("bc3a"),E=a.n(G),F={getApi:K,postApi:W,login:ne,postApiParams:Z,deleteApi:te,putApi:X};function K(e,t){return Y.apply(this,arguments)}function Y(){return Y=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("ac_uid")}},null!=a&&void 0!=a&&(n.params=a),e.next=5,E.a.get(t,n);case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Y.apply(this,arguments)}function X(e,t,a){return Q.apply(this,arguments)}function Q(){return Q=Object(z["a"])(regeneratorRuntime.mark((function e(t,a,n){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={method:"put",url:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("ac_uid")}},a&&(i.data=a),null!=n&&void 0!=n&&(i.params=n),e.prev=3,e.next=6,E()(i);case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e["catch"](3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),Q.apply(this,arguments)}function W(e,t){return J.apply(this,arguments)}function J(){return J=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"post",url:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("ac_uid")}},a&&(n.data=a),e.prev=2,e.next=5,E()(n);case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),J.apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return ee=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"post",url:t,params:a,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("ac_uid")}},e.prev=1,e.next=4,E()(n);case 4:return i=e.sent,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),ee.apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"delete",url:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("ac_uid")}},a&&(n.data=a),e.prev=2,e.next=5,E()(n);case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e["catch"](2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),ae.apply(this,arguments)}function ne(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(z["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"post",url:t,data:a,headers:{"Content-Type":"application/json",Accept:"application/json","Client-Type":"abc"}},e.prev=1,e.next=4,E()(n);case 4:return i=e.sent,e.abrupt("return",i);case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),ie.apply(this,arguments)}var se={data:function(){return{menu:!1}},computed:Object(o["a"])({},Object(c["b"])({user:"user"})),methods:{checkString:function(e){return null!=e&void 0!=e?e:"_"},returnRole:function(e){switch(e){case"COORDINATOR":return"Điều phối viên";case"PRACTITIONER":return"Bác sĩ đa khoa";case"SPECIALIST":return"Bác sĩ chuyên khoa";case"DIETITIAN":return"Bác sĩ dinh dưỡng";default:return"_"}},goToPage:function(e){this.$router.replace(e)},toggleNavDrawer:function(){this.$store.dispatch("toggleNavDrawer")},logout:function(){var e=this;this.$store.dispatch("turnOnLoadingDialog","Đăng xuất...");var t="".concat(L.apiUrl,"/auth/sign_out");F.postApi(t).then((function(t){"2"===t.status.toString()[0]?(e.$store.dispatch("turnOffLoadingDialog"),e.$store.dispatch("clearAuthData")):e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){e.$store.dispatch("turnOffLoadingDialog")}))}}},le=se,re=(a("463c"),a("40dc")),oe=a("5bc1"),ce=a("8336"),de=a("ce7e"),ue=a("132d"),he=a("8860"),pe=a("da13"),ve=a("5d23"),ge=a("34c3"),fe=a("e449"),me=a("2fa4"),xe=a("2a7f"),be=Object(h["a"])(le,M,U,!1,null,"5e1b16c3",null),ye=be.exports;v()(be,{VAppBar:re["a"],VAppBarNavIcon:oe["a"],VBtn:ce["a"],VCard:I["a"],VDivider:de["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemContent:ve["a"],VListItemIcon:ge["a"],VListItemSubtitle:ve["b"],VListItemTitle:ve["c"],VMenu:fe["a"],VSpacer:me["a"],VToolbarTitle:xe["a"]});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{staticStyle:{color:"#747780"},attrs:{app:"",dark:"",value:e.drawer,clipped:""}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item",{on:{click:function(t){return e.goToPage("notification")}}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-title",[e._v("Thông báo")])],1),a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"PRACTITIONER"==e.user.role,expression:"user != null && user.role == 'PRACTITIONER'"}],on:{click:function(t){return e.goToPage("practitioner")}}},[a("v-list-item-icon",[a("v-icon",[e._v("people")])],1),a("v-list-item-title",[e._v("Bác sĩ đa khoa")])],1),a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:null!=e.user&&("SPECIALIST"==e.user.role||"DIETITIAN"==e.user.role),expression:"user != null && (user.role == 'SPECIALIST' || user.role == 'DIETITIAN')"}],on:{click:function(t){return e.goToPage("doctor")}}},[a("v-list-item-icon",[a("v-icon",[e._v("record_voice_over")])],1),a("v-list-item-title",[e._v("Bác sĩ chuyên khoa/Dinh dưỡng")])],1),a("v-list-item",{directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"COORDINATOR"==e.user.role,expression:"user != null && user.role == 'COORDINATOR'"}],on:{click:function(t){return e.goToPage("coordinator")}}},[a("v-list-item-icon",[a("v-icon",[e._v("directions_run")])],1),a("v-list-item-title",[e._v("Điều phối viên")])],1),a("v-list-item",{on:{click:function(t){return e.goToPage("staff")}}},[a("v-list-item-icon",[a("v-icon",[e._v("local_hospital")])],1),a("v-list-item-title",[e._v("Thông tin phòng khám")])],1),a("v-list-item",{on:{click:function(t){return e.goToPage("info")}}},[a("v-list-item-icon",[a("v-icon",[e._v("info")])],1),a("v-list-item-title",[e._v("Thông tin người dùng")])],1)],1)],1)},Ie=[],ke={computed:Object(o["a"])({},Object(c["b"])({drawer:"navDrawer",user:"user"})),methods:{goToPage:function(e){if(e){var t="/".concat(e);this.$router.push(t)}else this.$router.push("/")}}},De=ke,_e=a("f774"),we=Object(h["a"])(De,Se,Ie,!1,null,null,null),Te=we.exports;v()(we,{VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemIcon:ge["a"],VListItemTitle:ve["c"],VNavigationDrawer:_e["a"]});var Pe=a("59ca"),Oe=a.n(Pe),Re=a("c1df"),Ne=a.n(Re),je=a("14b7"),Ae=a.n(je);a("741f");var $e={data:function(){return{firebaseNoti:null,messaging:null}},computed:Object(o["a"])({},Object(c["b"])({newNotification:"newNotification",user:"user"})),watch:{newNotification:function(){this.handleNewNotification(this.newNotification)}},methods:{goToPage:function(e){this.$router.push(e)},checkUID:function(){var e=this,t="".concat(L.apiUrl,"/user");F.getApi(t).then((function(t){200===t.status?"PATIENT"==t.data.role?(e.$store.dispatch("clearAuthData"),e.$toast.open({message:"Trang này chỉ dành cho nhân viên phòng khám ABCLINIC",type:"error"})):(e.$store.dispatch("setAuthData",t.data),e.initWebSocket(e.$store.state.user.id)):(e.$store.dispatch("clearAuthData"),e.$toast.open({message:t.data.message,type:"error"}))})).catch((function(e){console.log(e)}))},initWebSocket:function(e){var t=this.$store;try{var a=new H.a("".concat(L.apiUrl,"/ws")),n=B.a.over(a);n.connect({},(function(){n.subscribe("/topic/users/".concat(e),(function(e){t.dispatch("setNewNotification",JSON.parse(e.body))}))}))}catch(i){console.log(i)}},initFirebase:function(){var e={apiKey:"AIzaSyDqCVFqxlFpTYDqQu_plYuiy6ekAwv6eH4",authDomain:"abclinic-noti.firebaseapp.com",databaseURL:"https://abclinic-noti.firebaseio.com",projectId:"abclinic-noti",storageBucket:"abclinic-noti.appspot.com",messagingSenderId:"874025458781",appId:"1:874025458781:web:f2079bcf9d5d72887101b4",measurementId:"G-GGPSEYWL2W"};Oe.a.initializeApp(e),this.messaging=Oe.a.messaging(),this.messaging.usePublicVapidKey("BNC-v9WL4BKp2PbtS7sO29B7VXefCb560WnQBkhGCSRS1sfC940DIXFoTI5yOKUVxiXbwsGc89ULw1lcUuJczwg"),this.messaging.onMessage((function(e){alert("Message received. ",e)}))},handleNewNotification:function(e){var t=Ne()().format("HH:mm:ss");this.$toast.open({message:"THÔNG BÁO MỚI: ".concat(e.notification,"! (").concat(t,")"),type:"info"})},checkExpiredUID:function(){var e=Ae.a.decode(localStorage.getItem("ac_uid")),t=Ne()(1e3*e.exp),a=Ne()();a.isAfter(t)?(this.$store.dispatch("clearAuthData"),this.$toast.open({message:"Phiên đăng nhập của bạn đã hết hạn. Hãy đăng nhập lại",type:"error"})):this.checkUID()}},components:{AppBar:ye,NavBar:Te},created:function(){this.checkExpiredUID()}},qe=$e,Ce=(a("cccb"),a("a75b")),He=Object(h["a"])(qe,$,q,!1,null,null,null),Ve=He.exports;v()(He,{VApp:R["a"],VContent:Ce["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height"},[a("v-row",[a("v-col",[a("h1",[e._v("Thông báo")])])],1),a("v-row",{staticClass:"fill-height"},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{headers:e.notiHeaders,"no-data-text":"Không có thông báo nào","loading-text":"Đang lấy dữ liệu",loading:e.loadingNoti,items:e.noti,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Danh sách thông báo")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.sender",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.sender.name)+" ")]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnTimeFromTimeArray(a.createdAt))+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnNotificationType(a.type))+" ")]}},{key:"item.isRead",fn:function(t){var n=t.item;return[1==n.isRead?a("span",[e._v("Đã đọc")]):a("span",{staticStyle:{color:"red"}},[e._v("Chưa đọc")])]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getDetailNoti(n.id,n.number)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){return e.goToServicePage(n.type,n.payloadId)}}},[a("v-list-item-title",[e._v("Đến trang chức năng")])],1)],1)],1)]}}])}),a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.notiPages},on:{input:function(t){return e.getNoti(e.notiPage,e.notiPageSize)}},model:{value:e.notiPage,callback:function(t){e.notiPage=t},expression:"notiPage"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.detailNotiDialog,callback:function(t){e.detailNotiDialog=t},expression:"detailNotiDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chi tiết thông báo")])]),null!=e.detailNoti?a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Nội dung: "+e._s(e.detailNoti.message))]),a("h3",[e._v("Kiểu thông báo: "+e._s(e.returnNotificationType(e.detailNoti.type)))]),a("h3",[e._v("Thời gian nhận: "+e._s(e.returnTimeFromTimeArray(e.detailNoti.createdAt)))]),a("h3",[a("a",{on:{click:function(t){return t.stopPropagation(),e.goToServicePage(e.detailNoti.type,e.detailNoti.payloadId)}}},[e._v("Đến trang chức năng >>")])])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"1",lg:"1",xl:"1"}},[null!=e.detailNoti.sender.avatar?a("v-avatar",{attrs:{width:"50",height:"50"}},[a("img",{attrs:{src:e.detailNoti.sender.avatar}})]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"5",lg:"5",xl:"5"}},[a("h3",[e._v("Người gửi: "+e._s(e.detailNoti.sender.name))]),a("h3",[e._v("Chức vụ: "+e._s(e.detailNoti.sender.role)+" ")])]),a("v-col",{attrs:{cols:"12",sm:"12",md:"1",lg:"1",xl:"1"}},[null!=e.detailNoti.receiver.avatar?a("v-avatar",{attrs:{width:"50",height:"50"}},[a("img",{attrs:{src:e.detailNoti.receiver.avatar}})]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"5",lg:"5",xl:"5"}},[a("h3",[e._v("Người nhận: "+e._s(e.detailNoti.receiver.name))]),a("h3",[e._v("Chức vụ: "+e._s(e.detailNoti.receiver.role)+" ")])])],1)],1)],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.detailNotiDialog=!1,e.$store.dispatch("resetHandleNotification")}}},[e._v("ĐÓNG")])],1)],1)],1)],1)},Me=[],Ue=(a("a15b"),{data:function(){return{noti:[],notiPage:1,notiPages:0,notiPageSize:10,loadingNoti:!1,notiHeaders:[{text:"NGƯỜI GỬI",value:"sender",align:"start"},{text:"THỜI GIAN NHẬN",value:"createdAt",align:"start"},{text:"TRẠNG THÁI",value:"isRead",align:"start"},{text:"KIỂU THÔNG BÁO",value:"type",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"right"}],detailNoti:null,detailNotiDialog:!1}},computed:Object(o["a"])({},Object(c["b"])({newNotification:"newNotification",user:"user"})),watch:{newNotification:function(){this.handleNewNotification()}},methods:{returnTimeFromTimeArray:function(e){try{var t=0,a=[],n=[];while(t<e.length)t<3?a.push(e[t]):n.push(e[t]),t++;var i="".concat(a.join("-")," ").concat(n.join(":"));return Ne.a.utc(i).local().format("HH:mm:ss DD/MM/YYYY")}catch(s){return console.log(s),"_"}},checkLocalStorage:function(){console.log(this.$store.state.ac_uid),console.log(this.$store.state.user)},getNoti:function(e,t){var a=this;this.noti=[],this.loadingNoti=!0;var n="".concat(L.apiUrl,"/notifications"),i={page:e,size:t};F.getApi(n,i).then((function(e){if("2"===e.status.toString()[0]){a.noti=e.data.content;for(var t=0;t<a.noti.length;t++)a.noti[t].number=t;a.notiPages=e.data.totalPages}else a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.loadingNoti=!1}))},getDetailNoti:function(e,t){var a=this,n="".concat(L.apiUrl,"/notifications/").concat(e);this.$store.dispatch("turnOnLoadingDialog","Lấy thông tin chi tiết thông báo..."),F.getApi(n).then((function(e){"2"===e.status.toString()[0]?(a.detailNoti=e.data,a.noti[t].isRead=!0,a.detailNotiDialog=!0):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},handleNewNotification:function(){this.notiPage=1,this.getNoti(this.notiPage,this.notiPageSize)},goToServicePage:function(e,t){var a={typeNoti:e,payloadId:t};this.$store.dispatch("setHandleNotification",a);var n=this.user.role.toLowerCase();switch(n){case"coordinator":case"practitioner":this.goToPage(n);break;case"specialist":case"dietitian":this.goToPage("doctor");break;default:break}},goToPage:function(e){if(e){var t="/".concat(e);this.$router.push(t)}else this.$router.push("/")},returnNotificationType:function(e){switch(e){case 0:return"YÊU CẦU TƯ VẤN";case 1:return"TƯ VẤN CHUYÊN KHOA";case 2:return"TRẢ LỜI TƯ VẤN";case 3:return"GÁN QUYỀN QUẢN LÝ";case 4:return"CHẤP NHẬN QUẢN LÝ";case 5:return"TỪ CHỐI TƯ VẤN";case 6:return"HỦY QUYỀN QUẢN LÝ";case 7:return"ĐẶT LỊCH GỬI CHỈ SỐ SỨC KHỎE";case 8:return"GỬI CHỈ SỐ SỨC KHỎE";case 9:return"CÓ LỊCH GỬI CHỈ SỐ SỨC KHỎE PHẢI NỘP";case 10:return"ĐÃ ĐƯỢC HỦY KÍCH HOẠT";case 11:return"TƯ VẤN DINH DƯỠNG"}}},created:function(){this.getNoti(this.notiPage,this.notiPageSize)},destroyed:function(){}}),Le=Ue,ze=a("8212"),Ge=a("62ad"),Ee=a("a523"),Fe=a("8fea"),Ke=a("891e"),Ye=a("0fd9"),Xe=a("71d9"),Qe=Object(h["a"])(Le,Be,Me,!1,null,"4de44c71",null),We=Qe.exports;v()(Qe,{VAvatar:ze["a"],VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:Ge["a"],VContainer:Ee["a"],VDataTable:Fe["a"],VDialog:D["a"],VDivider:de["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemTitle:ve["c"],VMenu:fe["a"],VPagination:Ke["a"],VRow:Ye["a"],VSpacer:me["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1",md:"4"}},[a("v-card",{staticClass:"elevation-4"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("ĐĂNG NHẬP VÀO HỆ THỐNG ABCLINIC")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Email/SDT","prepend-icon":"person",type:"text"},model:{value:e.info,callback:function(t){e.info=t},expression:"info"}}),a("v-text-field",{attrs:{label:"Password","prepend-icon":"lock",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.login()}}},[e._v("Đăng nhập")])],1)],1)],1)],1)],1)},Ze=[],et={data:function(){return{info:"",password:""}},methods:{checkUserRole:function(){var e=this,t="".concat(L.apiUrl,"/user");F.getApi(t).then((function(t){if(200===t.status)if("PATIENT"==t.data.role)e.$toast.open({message:"Trang này chỉ dành cho nhân viên phòng khám ABCLINIC",type:"error"}),localStorage.removeItem("ac_uid");else{var a=t.data;switch(e.$store.dispatch("setAuthData",a),a.role){case"COORDINATOR":e.goToPage("/coordinator");break;case"PRACTITIONER":e.goToPage("/practitioner");break;case"DIETITIAN":case"SPECIALIST":e.goToPage("/doctor");break}}else 401===t.status&&e.$store.dispatch("clearAuthData")})).catch((function(e){console.log(e)}))},login:function(){var e=this;this.$store.dispatch("turnOnLoadingDialog","Đăng nhập...");var t=this.info,a=this.password,n="".concat(L.apiUrl,"/auth/login"),i={account:t,password:a};F.login(n,i).then((function(t){"2"===t.status.toString()[0]?(localStorage.setItem("ac_uid",t.data),e.checkUserRole()):e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){e.$store.dispatch("turnOffLoadingDialog")}))},goToPage:function(e){this.$router.replace(e)}},created:function(){}},tt=et,at=a("4bd4"),nt=a("8654"),it=Object(h["a"])(tt,Je,Ze,!1,null,"dbcb8a1a",null),st=it.exports;v()(it,{VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCol:Ge["a"],VContainer:Ee["a"],VForm:at["a"],VRow:Ye["a"],VSpacer:me["a"],VTextField:nt["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("h1",[e._v("Thông tin người dùng")])])],1),a("v-row",[a("v-col",{attrs:{xl:"12"}},[null!=e.userInfo?a("v-card",[a("v-card-title"),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"8",lg:"3",xl:"3"}},[e.userInfo.avatar?a("v-avatar",{attrs:{width:"300",height:"300"}},[a("img",{attrs:{src:e.userInfo.avatar}})]):e._e(),a("br"),a("v-file-input",{attrs:{accept:"image/*",label:"Cập nhật ảnh đại diện tại đây","append-icon":"edit"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e.file?a("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(t){return e.uploadAvatar()}}},[e._v("Cập nhật ảnh đại diện")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"8",xl:"8"}},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-text-field",{attrs:{readonly:"",rules:e.noEmptyRules,label:"Tên người dùng"},model:{value:e.userInfo.name,callback:function(t){e.$set(e.userInfo,"name",t)},expression:"userInfo.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-text-field",{attrs:{readonly:"",value:e.returnRole(e.userInfo.role),label:"Chức vụ"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-text-field",{attrs:{label:"Ngày sinh",readonly:""},model:{value:e.userInfo.dateOfBirth,callback:function(t){e.$set(e.userInfo,"dateOfBirth",t)},expression:"userInfo.dateOfBirth"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[e._v(" Giới tính "),a("v-radio-group",{attrs:{row:"",readonly:""},model:{value:e.userInfo.gender,callback:function(t){e.$set(e.userInfo,"gender",t)},expression:"userInfo.gender"}},[a("v-radio",{attrs:{label:"Nam",value:"0"}}),a("v-radio",{attrs:{label:"Nữ",value:"1"}}),a("v-radio",{attrs:{label:"Khác",value:"2"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email","append-icon":"edit"},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-text-field",{attrs:{rules:e.phoneRules,label:"Số điện thoại","append-icon":"edit"},model:{value:e.userInfo.phoneNumber,callback:function(t){e.$set(e.userInfo,"phoneNumber",t)},expression:"userInfo.phoneNumber"}})],1)],1),"COORDINATOR"!=e.userInfo.role&&"PATIENT"!=e.userInfo.role?a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-textarea",{attrs:{rows:"4",label:"Ghi chú","append-icon":"edit"},model:{value:e.userInfo.description,callback:function(t){e.$set(e.userInfo,"description",t)},expression:"userInfo.description"}})],1)],1):e._e(),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-btn",{attrs:{disabled:!e.valid,rounded:"",color:"primary"},on:{click:function(t){return e.updateInfo(e.userInfo.email,e.userInfo.phoneNumber,e.userInfo.description)}}},[e._v("Cập nhật thông tin cá nhân")])],1)],1),"PRACTITIONER"==e.userInfo.role?a("v-row",["COORDINATOR"!=e.userInfo.role&&"PATIENT"!=e.userInfo.role?a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-autocomplete",{attrs:{multiple:"",label:"Chuyên môn",items:e.allSpecialties,"item-text":"name","item-value":"id"},model:{value:e.userInfo.specialties,callback:function(t){e.$set(e.userInfo,"specialties",t)},expression:"userInfo.specialties"}})],1):e._e()],1):e._e(),"PRACTITIONER"==e.userInfo.role?a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){return e.updateSpecialties(e.userInfo.specialties,!0)}}},[e._v("Cập nhật chuyên môn")])],1)],1):e._e(),"SPECIALIST"==e.userInfo.role||"DIETITIAN"==e.userInfo.role?a("v-row",["COORDINATOR"!=e.userInfo.role&&"PATIENT"!=e.userInfo.role?a("v-col",{attrs:{xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[null!=e.userInfo.specialty?a("v-autocomplete",{attrs:{label:"Chuyên môn",items:e.allSpecialties,"item-text":"name","item-value":"id"},model:{value:e.userInfo.specialty.id,callback:function(t){e.$set(e.userInfo.specialty,"id",t)},expression:"userInfo.specialty.id"}}):e._e(),null!=e.userInfo.specialty?a("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){return e.updateSpecialties(e.userInfo.specialty.id,!1)}}},[e._v("Cập nhật chuyên môn")]):e._e(),null==e.userInfo.specialty?a("v-autocomplete",{attrs:{label:"Chuyên môn",items:e.allSpecialties,"item-text":"name","item-value":"id"},model:{value:e.specialtyId,callback:function(t){e.specialtyId=t},expression:"specialtyId"}}):e._e(),null==e.userInfo.specialty?a("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){return e.updateSpecialties(e.specialtyId,!1)}}},[e._v("Cập nhật chuyên môn")]):e._e()],1):e._e()],1):e._e()],1)],1)],1)],1)],1)],1):e._e()],1)],1)],1)},rt=[],ot=(a("a4d3"),a("e01a"),a("bc3a")),ct={data:function(){return{valid:!1,userInfo:null,file:null,emailRules:[function(e){return!!e||"Chưa nhập E-mail"},function(e){return/.+@.+/.test(e)||"E-mail không đúng định dạng"}],noEmptyRules:[function(e){return!!e||"Không được để trống"}],phoneRules:[function(e){return/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/g.test(e)||"Không được để trống và chỉ được nhập số"}],allSpecialties:[],specialtyId:0}},methods:{checkString:function(e){return null!=e&void 0!=e?e:"_"},getInfo:function(){var e=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin cho người dùng...");var t="".concat(L.apiUrl,"/user");F.getApi(t).then((function(t){e.userInfo=t.data,e.userInfo.gender=t.data.gender.toString()})).catch((function(e){alert(e)})).finally((function(){e.$store.dispatch("turnOffLoadingDialog")}))},returnRole:function(e){var t="";switch(e){case"PATIENT":t="Bệnh nhân";break;case"PRACTITIONER":t="Bác sĩ đa khoa";break;case"SPECIALIST":t="Bác sĩ chuyên khoa";break;case"DIETITIAN":t="Bác sĩ dinh dưỡng";break;case"COORDINATOR":t="ĐIỀU PHỐI VIÊN";break;default:t="";break}return t},updateInfo:function(e,t,a){var n=this;this.$store.dispatch("turnOnLoadingDialog","Cập nhật thông tin cá nhân...");var i={email:e,phone:t};a&&(i.description=a);var s="".concat(L.apiUrl,"/user");F.putApi(s,i).then((function(e){"2"===e.status.toString()[0]?n.$toast.open({message:"Cập nhật thông tin thành công",type:"success"}):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.$store.dispatch("turnOffLoadingDialog")}))},uploadAvatar:function(){var e=this;this.$store.dispatch("turnOnLoadingDialog","Cập nhật ảnh đại diện...");var t=new FormData;t.append("file",this.file);var a="".concat(L.apiUrl,"/images/avatar");ot.post(a,t,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:localStorage.getItem("ac_uid")}}).then((function(t){"2"===t.status.toString()[0]?(e.$toast.open({message:"Cập nhật ảnh đại diện thành công",type:"success"}),e.userInfo.avatar=t.data,e.file=null):e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){e.$store.dispatch("turnOffLoadingDialog")}))},getAllSpecialties:function(){var e=this,t="".concat(L.apiUrl,"/specialties");F.getApi(t).then((function(t){"2"===t.status.toString()[0]?e.allSpecialties=t.data:e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)}))},updateSpecialties:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Cập nhật chuyên môn...");var n="".concat(L.apiUrl,"/user/specialties"),i={specialties:[]};t?i.specialties=e:i.specialties.push(e),F.putApi(n,i).then((function(e){"2"===e.status.toString()[0]?a.$toast.open({message:"Cập nhật chuyên môn thành công",type:"success"}):a.$toast.open({message:e.data.message,type:"error"})})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))}},created:function(){this.getInfo(),this.getAllSpecialties()}},dt=ct,ut=a("c6a6"),ht=a("23a7"),pt=a("67b6"),vt=a("43a6"),gt=a("a844"),ft=Object(h["a"])(dt,lt,rt,!1,null,"61b97bda",null),mt=ft.exports;v()(ft,{VAutocomplete:ut["a"],VAvatar:ze["a"],VBtn:ce["a"],VCard:I["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:Ge["a"],VContainer:Ee["a"],VFileInput:ht["a"],VForm:at["a"],VRadio:pt["a"],VRadioGroup:vt["a"],VRow:Ye["a"],VTextField:nt["a"],VTextarea:gt["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("h1",[e._v("Thông tin phòng khám")])])],1),a("v-row",{attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.doctorHeaders,items:e.allDoctors,"hide-default-footer":"","loading-text":"Đang lấy dữ liệu...","no-data-text":"Không có kết quả phù hợp",loading:e.loadingDoctor},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Nhân viên phòng khám")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.doctorSearchMenu,callback:function(t){e.doctorSearchMenu=t},expression:"doctorSearchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm nhân viên")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",label:"Tên"},model:{value:e.doctorSearch.name,callback:function(t){e.$set(e.doctorSearch,"name",t)},expression:"doctorSearch.name"}}),a("v-select",{attrs:{clearable:"",items:e.doctorRoles,label:"Chức vụ"},model:{value:e.doctorSearch.role,callback:function(t){e.$set(e.doctorSearch,"role",t)},expression:"doctorSearch.role"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên chuyên môn"},model:{value:e.doctorSearch.specialty,callback:function(t){e.$set(e.doctorSearch,"specialty",t)},expression:"doctorSearch.specialty"}}),a("v-text-field",{attrs:{clearable:"",label:"Kinh nghiệm (năm)",type:"number"},model:{value:e.doctorSearch.experience,callback:function(t){e.$set(e.doctorSearch,"experience",t)},expression:"doctorSearch.experience"}}),a("v-select",{attrs:{items:e.doctorStatus,label:"Trạng thái"},model:{value:e.doctorSearch.status,callback:function(t){e.$set(e.doctorSearch,"status",t)},expression:"doctorSearch.status"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.doctorSearchMenu=!1,e.doctorPage=1,e.getAllDoctor(e.doctorPage,e.doctorPageSize,e.doctorSearch)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.doctorSearchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getDoctorDetail(n.id)}}},[a("v-list-item-title",[e._v("Chỉnh sửa thông tin")])],1),1==e.doctorSearch.status?a("v-list-item",{on:{click:function(t){e.deleteUserId=n.id,e.deleteUserTypeIsStaff=!0,e.deleteUserDialog=!0}}},[a("v-list-item-title",[e._v("Hủy kích hoạt tài khoản")])],1):e._e(),1024==e.doctorSearch.status?a("v-list-item",{on:{click:function(t){return e.reactivateUser(n.id,!0)}}},[a("v-list-item-title",[e._v("Kích hoạt lại tài khoản")])],1):e._e()],1)],1)]}},{key:"item.role",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnRole(a.role))+" ")]}},{key:"item.status",fn:function(t){var n=t.item;return[1024!=n.status?a("span",[e._v("Đang hoạt động")]):e._e(),1024==n.status?a("span",{staticStyle:{color:"red"}},[e._v("Đã ngừng hoạt động")]):e._e()]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.doctorPages},on:{input:function(t){return e.getAllDoctor(e.doctorPage,e.doctorPageSize,e.doctorSearch)}},model:{value:e.doctorPage,callback:function(t){e.doctorPage=t},expression:"doctorPage"}})],1),a("br"),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"COORDINATOR"==e.user.role,expression:"user != null && user.role == 'COORDINATOR'"}],attrs:{color:"primary",text:"",dark:""}},n),[a("v-icon",[e._v("add")]),e._v(" Tạo tài khoản nhân viên")],1)]}}]),model:{value:e.registerObj.dialog,callback:function(t){e.$set(e.registerObj,"dialog",t)},expression:"registerObj.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo tài khoản")])]),a("v-card-text",[a("v-form",{model:{value:e.registerObj.valid,callback:function(t){e.$set(e.registerObj,"valid",t)},expression:"registerObj.valid"}},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"people",rules:e.noEmptyRules,label:"Tên người dùng"},model:{value:e.registerObj.name,callback:function(t){e.$set(e.registerObj,"name",t)},expression:"registerObj.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"email",rules:e.emailRules,label:"Email"},model:{value:e.registerObj.email,callback:function(t){e.$set(e.registerObj,"email",t)},expression:"registerObj.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"call",rules:e.phoneRules,label:"Số điện thoại"},model:{value:e.registerObj.phoneNumber,callback:function(t){e.$set(e.registerObj,"phoneNumber",t)},expression:"registerObj.phoneNumber"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.registerObj.dateOfBirth,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.registerObj,"dateOfBirth",t)},"update:return-value":function(t){return e.$set(e.registerObj,"dateOfBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{readonly:"",label:"Ngày sinh","prepend-icon":"event"},model:{value:e.registerObj.dateOfBirth,callback:function(t){e.$set(e.registerObj,"dateOfBirth",t)},expression:"registerObj.dateOfBirth"}},n))]}}]),model:{value:e.registerObj.dateMenu,callback:function(t){e.$set(e.registerObj,"dateMenu",t)},expression:"registerObj.dateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.registerObj.dateOfBirth,callback:function(t){e.$set(e.registerObj,"dateOfBirth",t)},expression:"registerObj.dateOfBirth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.registerObj.dateOfBirth)}}},[e._v("CHỌN")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.registerObj.dateMenu=!1}}},[e._v("ĐÓNG")])],1)],1)],1)],1),a("v-row",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e._v(" Giới tính "),a("v-radio-group",{attrs:{row:""},model:{value:e.registerObj.gender,callback:function(t){e.$set(e.registerObj,"gender",t)},expression:"registerObj.gender"}},[a("v-radio",{attrs:{label:"Nam",value:"0"}}),a("v-radio",{attrs:{label:"Nữ",value:"1"}}),a("v-radio",{attrs:{label:"Khác",value:"2"}})],1)],1),a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e._v(" Chức vụ "),a("v-select",{attrs:{items:e.registerObj.roles},model:{value:e.registerObj.role,callback:function(t){e.$set(e.registerObj,"role",t)},expression:"registerObj.role"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Mật khẩu",rules:e.noEmptyRules,type:"password"},model:{value:e.registerObj.password,callback:function(t){e.$set(e.registerObj,"password",t)},expression:"registerObj.password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:!e.registerObj.valid,text:""},on:{click:function(t){e.registerObj.dialog=!1,e.register(e.registerObj.name,e.registerObj.email,e.registerObj.phoneNumber,e.registerObj.dateOfBirth,e.registerObj.gender,e.registerObj.role,e.registerObj.password)}}},[e._v("Tạo")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.registerObj.dialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1)]},proxy:!0}])})],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.doctorDetailDialog,callback:function(t){e.doctorDetailDialog=t},expression:"doctorDetailDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Thông tin chi tiết nhân viên")])]),a("v-card-text",[a("v-form",{model:{value:e.doctorDetailValid,callback:function(t){e.doctorDetailValid=t},expression:"doctorDetailValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.noEmptyRules,label:"Tên"},model:{value:e.doctorDetail.name,callback:function(t){e.$set(e.doctorDetail,"name",t)},expression:"doctorDetail.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-menu",{ref:"dobMenu",attrs:{"close-on-content-click":!1,"return-value":e.doctorDetail.dateOfBirth,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.doctorDetail,"dateOfBirth",t)},"update:return-value":function(t){return e.$set(e.doctorDetail,"dateOfBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"Ngày sinh",readonly:""},model:{value:e.doctorDetail.dateOfBirth,callback:function(t){e.$set(e.doctorDetail,"dateOfBirth",t)},expression:"doctorDetail.dateOfBirth"}},n))]}}]),model:{value:e.dobMenu,callback:function(t){e.dobMenu=t},expression:"dobMenu"}},[a("v-date-picker",{attrs:{scrollable:""},on:{input:function(t){e.$refs.dobMenu.save(e.doctorDetail.dateOfBirth),e.dobMenu=!1}},model:{value:e.doctorDetail.dateOfBirth,callback:function(t){e.$set(e.doctorDetail,"dateOfBirth",t)},expression:"doctorDetail.dateOfBirth"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-select",{attrs:{items:e.genderArr,label:"Giới tính"},model:{value:e.doctorDetail.gender,callback:function(t){e.$set(e.doctorDetail,"gender",t)},expression:"doctorDetail.gender"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email"},model:{value:e.doctorDetail.email,callback:function(t){e.$set(e.doctorDetail,"email",t)},expression:"doctorDetail.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-text-field",{attrs:{rules:e.phoneRules,type:"number",label:"Số điện thoại"},model:{value:e.doctorDetail.phoneNumber,callback:function(t){e.$set(e.doctorDetail,"phoneNumber",t)},expression:"doctorDetail.phoneNumber"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Ghi chú"},model:{value:e.doctorDetail.description,callback:function(t){e.$set(e.doctorDetail,"description",t)},expression:"doctorDetail.description"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:!e.doctorDetailValid},on:{click:function(t){e.updateDoctorInfo(e.doctorDetail),e.doctorDetailDialog=!1}}},[e._v("Chỉnh sửa")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.doctorDetailDialog=!1}}},[e._v("Đóng")])],1)],1)],1)],1)],1),a("v-row",{attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.diseaseHeaders,items:e.allDisease,"hide-default-footer":"","no-data-text":"Hiện tại chưa có bệnh nào","loading-text":"Đang lấy dữ liệu...",loading:e.loadingDisease},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Các căn bệnh")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.diseaseSearchMenu,callback:function(t){e.diseaseSearchMenu=t},expression:"diseaseSearchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm căn bệnh")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",label:"Tên"},model:{value:e.diseaseSearch.name,callback:function(t){e.$set(e.diseaseSearch,"name",t)},expression:"diseaseSearch.name"}}),a("v-text-field",{attrs:{clearable:"",label:"Mô tả"},model:{value:e.diseaseSearch.description,callback:function(t){e.$set(e.diseaseSearch,"description",t)},expression:"diseaseSearch.description"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.diseaseSearchMenu=!1,e.diseasePage=1,e.getAllDisease(e.diseasePage,e.diseasePageSize,e.diseaseSearch)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.diseaseSearchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return e.openDiseaseDetailDialog(n.id)}}},[e._v(e._s(n.more)+" "),a("v-icon",[e._v("create")])],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.diseasePages},on:{input:function(t){return e.getAllDisease(e.diseasePage,e.diseasePageSize)}},model:{value:e.diseasePage,callback:function(t){e.diseasePage=t},expression:"diseasePage"}})],1),a("v-dialog",{attrs:{persistent:"",width:"400","max-width":"70%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"COORDINATOR"==e.user.role,expression:"user != null && user.role == 'COORDINATOR'"}],attrs:{color:"primary",text:"",dark:""}},n),[a("v-icon",[e._v("add")]),e._v(" Tạo căn bệnh mới")],1)]}}]),model:{value:e.createDisease.dialog,callback:function(t){e.$set(e.createDisease,"dialog",t)},expression:"createDisease.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo căn bệnh mới")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên căn bệnh"},model:{value:e.createDisease.name,callback:function(t){e.$set(e.createDisease,"name",t)},expression:"createDisease.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"Mô tả căn bệnh"},model:{value:e.createDisease.description,callback:function(t){e.$set(e.createDisease,"description",t)},expression:"createDisease.description"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:""==e.createDisease.name||""==e.createDisease.description,text:""},on:{click:function(t){e.createNewDisease(e.createDisease.name,e.createDisease.description),e.createDisease.dialog=!1}}},[e._v("TẠO")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.createDisease.dialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{"offset-y":"",persistent:"",width:"400","max-width":"70%"},model:{value:e.diseaseDetailDialog,callback:function(t){e.diseaseDetailDialog=t},expression:"diseaseDetailDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chỉnh sửa căn bệnh")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên căn bệnh"},model:{value:e.diseaseDetail.name,callback:function(t){e.$set(e.diseaseDetail,"name",t)},expression:"diseaseDetail.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"Mô tả căn bệnh"},model:{value:e.diseaseDetail.description,callback:function(t){e.$set(e.diseaseDetail,"description",t)},expression:"diseaseDetail.description"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:""==e.diseaseDetail.name||""==e.diseaseDetail.description,text:""},on:{click:function(t){e.diseaseDetailDialog=!1,e.updateDisease(e.diseaseDetail.name,e.diseaseDetail.description,e.diseaseDetail.id)}}},[e._v("SỬA")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.diseaseDetailDialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.healthIndexesHeaders,items:e.healthIndexes,"hide-default-footer":"","no-data-text":"Hiện tại chưa có chỉ số nào","loading-text":"Đang lấy dữ liệu...",loading:e.loadingHealthIndexes},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Mẫu kiểm tra chỉ số sức khỏe")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){e.detailHealthIndexes=Object.assign({},n),e.detailHealthIndexesDialog=!0}}},[a("v-icon",[e._v("create")])],1)]}},{key:"item.fields",fn:function(t){var n=t.item;return e._l(n.fields,(function(t){return a("span",{key:t.id},[e._v(e._s(t.name)+", ")])}))}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesPages},on:{input:function(t){return e.getHealthIndexes(e.healthIndexesPage,e.healthIndexesPageSize)}},model:{value:e.healthIndexesPage,callback:function(t){e.healthIndexesPage=t},expression:"healthIndexesPage"}})],1),a("v-dialog",{attrs:{persistent:"",width:"400","max-width":"70%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"COORDINATOR"==e.user.role,expression:"user != null && user.role == 'COORDINATOR'"}],attrs:{text:"",color:"primary",dark:""}},n),[a("v-icon",[e._v("add")]),e._v(" Tạo mẫu mới")],1)]}}]),model:{value:e.createHealthIndexesDialog,callback:function(t){e.createHealthIndexesDialog=t},expression:"createHealthIndexesDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo mẫu kiểm tra chỉ số sức khỏe")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên mẫu"},model:{value:e.createHealthIndexesObj.name,callback:function(t){e.$set(e.createHealthIndexesObj,"name",t)},expression:"createHealthIndexesObj.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"Mô tả"},model:{value:e.createHealthIndexesObj.description,callback:function(t){e.$set(e.createHealthIndexesObj,"description",t)},expression:"createHealthIndexesObj.description"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("h4",[e._v("Danh sách các chỉ số bệnh nhân cần gửi")]),e._l(e.createHealthIndexesObj.fields,(function(t,n){return a("div",{key:t,staticStyle:{position:"relative",margin:"10px",padding:"10px",border:"1px solid grey","border-radius":"10px"}},[a("span",[e._v(e._s(t)+" ")]),a("v-icon",{staticStyle:{position:"absolute",right:"0",color:"red"},on:{click:function(t){return e.createHealthIndexesObj.fields.splice(n,1)}}},[e._v("clear")])],1)})),a("br"),a("v-text-field",{attrs:{label:"Nhập tên chỉ số mới rồi nhấn Enter"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.createHealthIndexesObj.fields.push(e.healthIndexesNewField),e.healthIndexesNewField=""}},model:{value:e.healthIndexesNewField,callback:function(t){e.healthIndexesNewField=t},expression:"healthIndexesNewField"}})],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:""==e.createHealthIndexesObj.name||""==e.createHealthIndexesObj.description},on:{click:function(t){e.createHealthIndexes(e.createHealthIndexesObj.name,e.createHealthIndexesObj.description,e.createHealthIndexesObj.fields),e.createHealthIndexesDialog=!1}}},[e._v("TẠO MỚI")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.createHealthIndexesDialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1)]},proxy:!0}])})],1),a("v-dialog",{attrs:{"offset-y":"",persistent:"",width:"400","max-width":"70%"},model:{value:e.detailHealthIndexesDialog,callback:function(t){e.detailHealthIndexesDialog=t},expression:"detailHealthIndexesDialog"}},[null!=e.detailHealthIndexes?a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chỉnh sửa chỉ số sức khỏe")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên chỉ số"},model:{value:e.detailHealthIndexes.name,callback:function(t){e.$set(e.detailHealthIndexes,"name",t)},expression:"detailHealthIndexes.name"}}),a("v-textarea",{attrs:{rows:"3",label:"Mô tả"},model:{value:e.detailHealthIndexes.description,callback:function(t){e.$set(e.detailHealthIndexes,"description",t)},expression:"detailHealthIndexes.description"}}),a("v-btn",{attrs:{color:"primary",disabled:""==e.detailHealthIndexes.name||""==e.detailHealthIndexes.description},on:{click:function(t){return e.updateHealthIndexes(e.detailHealthIndexes.id,e.detailHealthIndexes.name,e.detailHealthIndexes.description)}}},[e._v("Cập nhật thông tin cơ bản")])],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("h4",[e._v("Danh sách các trường")]),e._l(e.detailHealthIndexes.fields,(function(t){return a("div",{key:t.id,staticStyle:{position:"relative",margin:"10px",padding:"10px",border:"1px solid grey","border-radius":"10px"}},[a("span",[e._v(e._s(t.name)+" ")]),a("v-icon",{staticStyle:{position:"absolute",right:"0",color:"red"},on:{click:function(a){return e.deleteField(e.detailHealthIndexes.id,t.id)}}},[e._v("clear")])],1)})),a("br"),a("v-text-field",{attrs:{label:"Nhập tên trường mới rồi nhấn Enter"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addField(e.detailHealthIndexes.id,e.healthIndexesNewField)}},model:{value:e.healthIndexesNewField,callback:function(t){e.healthIndexesNewField=t},expression:"healthIndexesNewField"}})],2)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.getHealthIndexes(e.healthIndexesPage,e.healthIndexesPageSize),e.detailHealthIndexesDialog=!1}}},[e._v("ĐÓNG")])],1)],1):e._e()],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{"hide-default-footer":"",headers:e.specHeaders,items:e.specialties,"no-data-text":"Hiện tại chưa có chuyên môn nào","loading-text":"Đang lấy dữ liệu...",loading:e.loadingSpec},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Các chuyên môn")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return e.openSpecDetailDialog(n.id)}}},[e._v(e._s(n.more)+" "),a("v-icon",[e._v("create")])],1)]}},{key:"footer",fn:function(){return[a("br"),a("v-dialog",{attrs:{persistent:"",width:"400","max-width":"70%"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:null!=e.user&&"COORDINATOR"==e.user.role,expression:"user != null && user.role == 'COORDINATOR'"}],attrs:{text:"",color:"primary",dark:""}},n),[a("v-icon",[e._v("add")]),e._v(" Tạo chuyên môn")],1)]}}]),model:{value:e.createSpec.dialog,callback:function(t){e.$set(e.createSpec,"dialog",t)},expression:"createSpec.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo chuyên môn mới")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên chuyên môn"},model:{value:e.createSpec.name,callback:function(t){e.$set(e.createSpec,"name",t)},expression:"createSpec.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"Mô tả chuyên môn"},model:{value:e.createSpec.detail,callback:function(t){e.$set(e.createSpec,"detail",t)},expression:"createSpec.detail"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:""==e.createSpec.name||""==e.createSpec.detail,text:""},on:{click:function(t){e.createSpecialty(e.createSpec.name,e.createSpec.detail),e.createSpec.dialog=!1}}},[e._v("TẠO")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.createSpec.dialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{"offset-y":"",persistent:"",width:"400","max-width":"70%"},model:{value:e.specDetailDialog,callback:function(t){e.specDetailDialog=t},expression:"specDetailDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chỉnh sửa chuyên môn")])]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Tên chuyên môn"},model:{value:e.specDetail.name,callback:function(t){e.$set(e.specDetail,"name",t)},expression:"specDetail.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"Mô tả chuyên môn"},model:{value:e.specDetail.detail,callback:function(t){e.$set(e.specDetail,"detail",t)},expression:"specDetail.detail"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:""==e.specDetail.name||""==e.specDetail.detail,text:""},on:{click:function(t){e.specDetailDialog=!1,e.updateSpec(e.specDetail.name,e.specDetail.detail,e.specDetail.id)}}},[e._v("SỬA")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.specDetailDialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.deleteUserDialog,callback:function(t){e.deleteUserDialog=t},expression:"deleteUserDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận hủy kích hoạt tài khoản")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn hủy kích hoạt tài khoản này? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.deleteUserDialog=!1,e.deleteUser(e.deleteUserId,e.deleteUserTypeIsStaff)}}},[e._v(" XÁC NHẬN ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.deleteUserDialog=!1,e.deleteUserId=0,e.deleteUserTypeIsStaff=null}}},[e._v(" ĐÓNG ")])],1)],1)],1)],1)},bt=[],yt=(a("a434"),a("b0c0"),a("841c"),a("1276"),{data:function(){return{dobMenu:!1,genderArr:[{text:"Nam",value:0},{text:"Nữ",value:1},{text:"Khác",value:2}],allDoctors:[],doctorPages:0,doctorPage:1,doctorPageSize:10,doctorRoles:[{text:"Đa khoa",value:0},{text:"Chuyên khoa",value:1},{text:"Dinh dưỡng",value:2},{text:"Điều phối viên",value:3}],doctorSearch:{name:void 0,role:void 0,specialty:void 0,experience:void 0,status:1},doctorStatus:[{text:"Hoạt động",value:1},{text:"Ngừng hoạt động",value:1024}],doctorSearchMenu:!1,responseText:"Try something",showDoctor:!0,doctorDetailDialog:!1,doctorDetail:{number:0,id:"",name:"",email:"",gender:"",more:"Xem chi tiết",dateOfBirth:"",description:"",specialty:"",phoneNumber:0},doctorDetailValid:!0,doctorHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"CHỨC VỤ",value:"role",align:"start"},{text:"NGÀY SINH",value:"dateOfBirth",align:"start"},{text:"TUỔI",value:"age",align:"start"},{text:"EMAIL",value:"email",align:"start"},{text:"SỐ ĐT",value:"phoneNumber",align:"start"},{text:"TRẠNG THÁI",value:"status",align:"start"},{text:"CHỌN HÀNH ĐỘNG",value:"more",align:"end"}],loadingDoctor:!1,specialties:[],specDetail:{},specDetailDialog:!1,specHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"MÔ TẢ",value:"detail",align:"start"},{text:"CHỈNH SỬA",value:"more",align:"right"}],createSpec:{dialog:!1,name:"",detail:""},showSpec:!0,loadingSpec:!1,deleteUserDialog:!1,deleteUserId:0,deleteUserTypeIsStaff:null,emailRules:[function(e){return!!e||"Chưa nhập E-mail"},function(e){return/.+@.+/.test(e)||"E-mail không đúng định dạng"}],noEmptyRules:[function(e){return!!e||"Không được để trống"}],phoneRules:[function(e){return/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/g.test(e)||"Không được để trống và chỉ được nhập số"}],allDisease:[],diseaseDetail:{},diseaseDetailDialog:!1,diseaseHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"MÔ TẢ",value:"description",align:"start"},{text:"CHỈNH SỬA",value:"more",align:"right"}],createDisease:{dialog:!1,name:"",description:""},loadingDisease:!1,diseasePage:1,diseasePages:0,diseasePageSize:5,diseaseSearchMenu:!1,diseaseSearch:{name:void 0,description:void 0},healthIndexes:[],healthIndexesHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"MÔ TẢ",value:"description",align:"start"},{text:"CÁC CHỈ SỐ",value:"fields",align:"start"},{text:"CHỈNH SỬA",value:"more",align:"right"}],loadingHealthIndexes:!1,detailHealthIndexes:null,detailHealthIndexesDialog:!1,createHealthIndexesObj:{name:"",description:"",fields:[]},healthIndexesNewField:"",createHealthIndexesDialog:!1,healthIndexesPage:1,healthIndexesPages:0,healthIndexesPageSize:5,registerObj:{dateOfBirth:"",dateMenu:!1,valid:!1,dialog:!1,email:"",gender:"0",name:"",password:"",phoneNumber:"",role:0,roles:[{text:"Đa khoa",value:0},{text:"Chuyên khoa",value:1},{text:"Dinh dưỡng",value:2},{text:"Điều phối viên",value:3}]}}},computed:Object(o["a"])({},Object(c["b"])({user:"user"})),watch:{user:function(){}},methods:{returnRole:function(e){var t="";switch(e){case"PATIENT":t="Bệnh nhân";break;case"PRACTITIONER":t="Bác sĩ đa khoa";break;case"SPECIALIST":t="Bác sĩ chuyên khoa";break;case"DIETITIAN":t="Bác sĩ dinh dưỡng";break;case"COORDINATOR":t="ĐIỀU PHỐI VIÊN";break;default:t="";break}return t},returnGender:function(e){switch(e){case 0:return"Nam";case 1:return"Nữ";case 2:return"Khác"}},checkGender:function(e){switch(e){case 0:return"Nam";case 1:return"Nữ";case 2:return"Khác"}},checkString:function(e){return null!=e&void 0!=e?e:"_"},findObjIndexById:function(e,t){for(var a=-1,n=0;n<e.length;n++)e[n].id==t&&(a=n);return a},getAllDoctor:function(e,t,a){var n=this;this.loadingDoctor=!0,this.allDoctors=[];var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],",")),0==a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/doctors");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.doctorPages=e.data.totalPages,n.updateDoctorsArrayFromServer(e.data.content)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingDoctor=!1}))},updateDoctorsArrayFromServer:function(e){for(var t=0;t<e.length;t++){var a={number:t,id:this.checkString(e[t].id.toString()),name:this.checkString(e[t].name),email:this.checkString(e[t].email),gender:this.returnGender(this.checkString(e[t].gender)),more:"Xem chi tiết",phoneNumber:this.checkString(e[t].phoneNumber),role:this.checkString(e[t].role),age:this.checkString(e[t].age),dateOfBirth:this.checkString(e[t].dateOfBirth),description:this.checkString(e[t].description),specialty:this.checkString(e[t].specialty),status:this.checkString(e[t].status)};this.allDoctors.push(a)}},getDoctorDetail:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết nhân viên...");var a="".concat(L.apiUrl,"/doctors/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.doctorDetail=Object.assign({},e.data),t.doctorDetail.dateOfBirth=e.data.dateOfBirth.split("/").reverse().join("-"),t.doctorDetailDialog=!0):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},deleteUser:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang hủy kích hoạt tài khoản này...");var n="".concat(L.apiUrl,"/user"),i={id:e};F.deleteApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Hủy kích hoạt tài khoản thành công",type:"success"}),t?(a.doctorPage=1,a.getAllDoctor(a.doctorPage,a.doctorPageSize,a.doctorSearch)):(a.patientPage=1,a.getAllPatients(a.patientPage,a.patientPageSize,a.patientSearch))):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog"),a.deleteUserId=0,a.deleteUserTypeIsStaff=null}))},reactivateUser:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang tái kích hoạt tài khoản này...");var n="".concat(L.apiUrl,"/user"),i={id:e};F.postApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Tái kích hoạt tài khoản thành công",type:"success"}),t?(a.doctorPage=1,a.getAllDoctor(a.doctorPage,a.doctorPageSize,a.doctorSearch)):(a.patientPage=1,a.getAllPatients(a.patientPage,a.patientPageSize,a.patientSearch))):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},getSpecialties:function(){var e=this;this.loadingSpec=!0;var t="".concat(L.apiUrl,"/specialties");F.getApi(t).then((function(t){"2"===t.status.toString()[0]?e.updateSpecialtiesFromServer(t.data):e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){e.loadingSpec=!1}))},updateSpecialtiesFromServer:function(e){this.specialties=e},createSpecialty:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang tạo chuyên môn mới...");var n="".concat(L.apiUrl,"/specialties"),i={name:e,detail:t};F.postApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Tạo chuyên môn thành công",type:"success"}),a.createSpec.name="",a.createSpec.detail="",a.getSpecialties()):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},openSpecDetailDialog:function(e){var t=this.findObjIndexById(this.specialties,e);this.specDetail=Object.assign({},this.specialties[t]),this.specDetailDialog=!0},updateSpec:function(e,t,a){var n=this;this.$store.dispatch("turnOnLoadingDialog","Đang cập nhật thông tin chuyên môn...");var i="".concat(L.apiUrl,"/specialties"),s={name:e,detail:t,id:a};F.putApi(i,s).then((function(e){"2"===e.status.toString()[0]?(n.$toast.open({message:"Sửa chuyên môn thành công",type:"success"}),n.getSpecialties()):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.$store.dispatch("turnOffLoadingDialog")}))},getAllDisease:function(e,t,a){var n=this;this.loadingDisease=!0;var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],",")),0==a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/diseases");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.diseasePages=e.data.totalPages,n.updateAllDiseaseFromServer(e.data.content)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingDisease=!1}))},updateAllDiseaseFromServer:function(e){this.allDisease=e},createNewDisease:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang tạo căn bệnh mới...");var n="".concat(L.apiUrl,"/diseases"),i={name:e,description:t};F.postApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Tạo căn bệnh thành công",type:"success"}),a.createDisease.name="",a.createDisease.description="",a.getAllDisease(a.diseasePage,a.diseasePageSize)):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},openDiseaseDetailDialog:function(e){var t=this.findObjIndexById(this.allDisease,e);this.diseaseDetail=Object.assign({},this.allDisease[t]),this.diseaseDetailDialog=!0},updateDisease:function(e,t,a){var n=this;this.$store.dispatch("turnOnLoadingDialog","Đang cập nhật căn bệnh...");var i="".concat(L.apiUrl,"/diseases"),s={name:e,description:t,id:a};F.putApi(i,s).then((function(e){"2"===e.status.toString()[0]?(n.$toast.open({message:"Sửa căn bệnh thành công",type:"success"}),n.getAllDisease(n.diseasePage,n.diseasePageSize)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.$store.dispatch("turnOffLoadingDialog")}))},createHealthIndexes:function(e,t,a){var n=this;this.$store.dispatch("turnOnLoadingDialog","Đang tạo chỉ số sức khỏe...");var i={name:e,description:t,fields:a},s="".concat(L.apiUrl,"/health_indexes");F.postApi(s,i).then((function(e){"2"===e.status.toString()[0]?(n.$toast.open({message:"Tạo chỉ số sức khỏe mới thành công",type:"success"}),n.healthIndexesPages=1,n.getHealthIndexes(n.healthIndexesPage,n.healthIndexesPageSize),n.createHealthIndexesObj={name:"",description:"",fields:[]}):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.$store.dispatch("turnOffLoadingDialog")}))},getHealthIndexes:function(e,t){var a=this;this.healthIndexes=[],this.loadingHealthIndexes=!0;var n={page:e,size:t},i="".concat(L.apiUrl,"/health_indexes");F.getApi(i,n).then((function(e){"2"===e.status.toString()[0]?(a.healthIndexesPages=e.data.totalPages,a.healthIndexes=e.data.content):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.loadingHealthIndexes=!1}))},addField:function(e,t){var a=this;if(t.length>0){this.$store.dispatch("turnOnLoadingDialog","Đang thêm trường...");var n="".concat(L.apiUrl,"/health_indexes/").concat(e,"/field"),i={field:t};F.postApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Thêm trường thành công",type:"success"}),a.detailHealthIndexes=e.data,a.healthIndexesNewField=""):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))}},deleteField:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang xóa trường...");var n="".concat(L.apiUrl,"/health_indexes/").concat(e,"/field"),i={id:t};F.deleteApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Xóa trường thành công",type:"success"}),a.detailHealthIndexes=e.data):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},updateHealthIndexes:function(e,t,a){var n=this;this.$store.dispatch("turnOnLoadingDialog","Đang cập nhật thông tin...");var i={id:e,name:t,description:a},s="".concat(L.apiUrl,"/health_indexes");F.putApi(s,i).then((function(e){"2"===e.status.toString()[0]?(n.$toast.open({message:"Cập nhật thành công",type:"success"}),n.detailHealthIndexes=e.data):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.$store.dispatch("turnOffLoadingDialog")}))},register:function(e,t,a,n,i,s,l){var r=this;this.$store.dispatch("turnOnLoadingDialog","Đang Tạo tài khoản mới...");var o={name:e,email:t,phone:a,dob:n.split("-").reverse().join("/"),gender:parseInt(i,10),role:s,password:l},c="".concat(L.apiUrl,"/auth/sign_up");F.postApi(c,o).then((function(e){"2"===e.status.toString()[0]?(r.$toast.open({message:"Tạo tài khoản thành công",type:"success"}),r.doctorPage=1,r.doctorSearch={name:void 0,role:void 0,specialty:void 0,experience:void 0,status:1},r.getAllDoctor(r.doctorPage,r.doctorPageSize,r.doctorSearch)):r.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){r.$store.dispatch("turnOffLoadingDialog")}))}},created:function(){null!=this.user&&"COORDINATOR"!=this.user.role&&(this.doctorHeaders.splice(this.doctorHeaders.length-1,1),this.specHeaders.splice(this.specHeaders.length-1,1),this.diseaseHeaders.splice(this.diseaseHeaders.length-1,1),this.healthIndexesHeaders.splice(this.healthIndexesHeaders.length-1,1)),this.registerObj.dateOfBirth=(new Date).toISOString().substr(0,10),this.getAllDoctor(this.doctorPage,this.doctorPageSize,this.doctorSearch),this.getAllDisease(this.diseasePage,this.diseasePageSize,this.diseaseSearch),this.getSpecialties(),this.getHealthIndexes(this.healthIndexesPage,this.healthIndexesPageSize)}}),St=yt,It=a("2e4b"),kt=a("b974"),Dt=Object(h["a"])(St,xt,bt,!1,null,"a24e9b1c",null),_t=Dt.exports;v()(Dt,{VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:Ge["a"],VContainer:Ee["a"],VDataTable:Fe["a"],VDatePicker:It["a"],VDialog:D["a"],VDivider:de["a"],VForm:at["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemTitle:ve["c"],VMenu:fe["a"],VPagination:Ke["a"],VRadio:pt["a"],VRadioGroup:vt["a"],VRow:Ye["a"],VSelect:kt["a"],VSpacer:me["a"],VTextField:nt["a"],VTextarea:gt["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]});var wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("h1",[e._v("Chức năng dành cho Điều phối viên")])])],1),a("v-row",{staticClass:"fill-height",attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.inquiryHeadersMain,"no-data-text":"Không có yêu cầu tư vấn nào mới","loading-text":"Đang lấy dữ liệu",loading:e.loadingInquiries,items:e.inquiries,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Các yêu cầu tư vấn mới")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return t.stopPropagation(),e.openAssignToPracMainDialog(n)}}},[e._v("Gán")])]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.inquiryPages},on:{input:function(t){return e.getInquiries(e.inquiryPage,e.inquiryPageSize)}},model:{value:e.inquiryPage,callback:function(t){e.inquiryPage=t},expression:"inquiryPage"}})],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.assignToPracDialogMain,callback:function(t){e.assignToPracDialogMain=t},expression:"assignToPracDialogMain"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Gán quyền quản lý bệnh nhân cho Bác sĩ đa khoa")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.inquiryHeaders,items:e.selectInquiryMain,"single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn yêu cầu tư vấn")]),a("v-spacer")],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}}]),model:{value:e.selectedInquiryMain,callback:function(t){e.selectedInquiryMain=t},expression:"selectedInquiryMain"}})],1),a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.doctorHeaders,items:e.allPractitioner,"single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn Bác sĩ phụ trách")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0}]),model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:"",disabled:0==e.selectedInquiryMain.length||0==e.selectedDoctor.length},on:{click:function(t){e.assignToPrac(e.selectedInquiryMain[0].patient.id,e.selectedInquiryMain,e.selectedDoctor,!0),e.assignToPracDialogMain=!1}}},[e._v("GÁN")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.assignToPracDialogMain=!1,e.selectedDoctor=[],e.selectedInquiryMain=[],e.selectInquiryMain=[]}}},[e._v("ĐÓNG")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"12",xl:"12"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:e.showPatient,expression:"showPatient"}],staticClass:"elevation-0",attrs:{headers:e.patientHeaders,"no-data-text":"Không có kết quả phù hợp","loading-text":"Đang lấy dữ liệu",loading:e.loadingPatient,items:e.allPatients,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Bệnh nhân")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.patientSearchMenu,callback:function(t){e.patientSearchMenu=t},expression:"patientSearchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm bệnh nhân")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",label:"Tên"},model:{value:e.patientSearch.name,callback:function(t){e.$set(e.patientSearch,"name",t)},expression:"patientSearch.name"}}),a("v-select",{attrs:{clearable:"",items:e.genderArr,label:"Giới tính"},model:{value:e.patientSearch.gender,callback:function(t){e.$set(e.patientSearch,"gender",t)},expression:"patientSearch.gender"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"Tuổi"},model:{value:e.patientSearch.age,callback:function(t){e.$set(e.patientSearch,"age",t)},expression:"patientSearch.age"}}),a("span",[a("v-checkbox",{attrs:{label:"Bệnh nhân chưa có bác sĩ quản lý"},on:{change:function(t){return e.setPatientStatusBit(0,e.patientStatusBitAllValue[0])}},model:{value:e.patientStatusBitAllValue[0],callback:function(t){e.$set(e.patientStatusBitAllValue,0,t)},expression:"patientStatusBitAllValue[0]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có bác sĩ đa khoa"},on:{change:function(t){return e.setPatientStatusBit(1,e.patientStatusBitAllValue[1])}},model:{value:e.patientStatusBitAllValue[1],callback:function(t){e.$set(e.patientStatusBitAllValue,1,t)},expression:"patientStatusBitAllValue[1]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có bác sĩ chuyên khoa"},on:{change:function(t){return e.setPatientStatusBit(2,e.patientStatusBitAllValue[2])}},model:{value:e.patientStatusBitAllValue[2],callback:function(t){e.$set(e.patientStatusBitAllValue,2,t)},expression:"patientStatusBitAllValue[2]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có bác sĩ dinh dưỡng"},on:{change:function(t){return e.setPatientStatusBit(3,e.patientStatusBitAllValue[3])}},model:{value:e.patientStatusBitAllValue[3],callback:function(t){e.$set(e.patientStatusBitAllValue,3,t)},expression:"patientStatusBitAllValue[3]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân hủy quyền kích hoạt"},on:{change:function(t){return e.setPatientStatusBit(10,e.patientStatusBitAllValue[10])}},model:{value:e.patientStatusBitAllValue[10],callback:function(t){e.$set(e.patientStatusBitAllValue,10,t)},expression:"patientStatusBitAllValue[10]"}}),a("v-checkbox",{attrs:{label:"Tất cả bệnh nhân"},on:{change:function(t){return e.setPatientStatusBit(11,e.patientStatusBitAllValue[11])}},model:{value:e.patientStatusBitAllValue[11],callback:function(t){e.$set(e.patientStatusBitAllValue,11,t)},expression:"patientStatusBitAllValue[11]"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.patientSearchMenu=!1,e.patientPage=1,e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.patientSearchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[1024!=n.status?a("v-list-item",{on:{click:function(t){return e.getPatientDetail(n.id,!0)}}},[a("v-list-item-title",[e._v("Chỉnh sửa thông tin")])],1):e._e(),1024!=n.status?a("v-list-item",{on:{click:function(t){return e.getPatientDetail(n.id,!1)}}},[a("v-list-item-title",[e._v("Gán bệnh nhân")])],1):e._e(),1024!=n.status?a("v-list-item",{on:{click:function(t){e.deleteUserId=n.id,e.deleteUserTypeIsStaff=!1,e.deleteUserDialog=!0}}},[a("v-list-item-title",[e._v("Hủy kích hoạt tài khoản")])],1):e._e(),1024==n.status?a("v-list-item",{on:{click:function(t){return e.reactivateUser(n.id,!1)}}},[a("v-list-item-title",[e._v("Kích hoạt lại tài khoản")])],1):e._e()],1)],1)]}},{key:"item.status",fn:function(t){var n=t.item;return[1024!=n.status?a("span",[e._v("Đang hoạt động")]):a("span",{staticStyle:{color:"red"}},[e._v("Đã ngừng hoạt động")])]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.patientPages},on:{input:function(t){return e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}},model:{value:e.patientPage,callback:function(t){e.patientPage=t},expression:"patientPage"}})],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.patientDetailDialog,callback:function(t){e.patientDetailDialog=t},expression:"patientDetailDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Thông tin chi tiết bệnh nhân")])]),a("v-card-text",[a("v-form",{model:{value:e.patientDetailValid,callback:function(t){e.patientDetailValid=t},expression:"patientDetailValid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.noEmptyRules,label:"Tên"},model:{value:e.patientDetail.name,callback:function(t){e.$set(e.patientDetail,"name",t)},expression:"patientDetail.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-menu",{ref:"patientDobMenu",attrs:{"close-on-content-click":!1,"return-value":e.patientDetail.dateOfBirth,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.patientDetail,"dateOfBirth",t)},"update:return-value":function(t){return e.$set(e.patientDetail,"dateOfBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{readonly:"",label:"Ngày sinh"},model:{value:e.patientDetail.dateOfBirth,callback:function(t){e.$set(e.patientDetail,"dateOfBirth",t)},expression:"patientDetail.dateOfBirth"}},n))]}}]),model:{value:e.patientDobMenu,callback:function(t){e.patientDobMenu=t},expression:"patientDobMenu"}},[a("v-date-picker",{attrs:{scrollable:""},on:{input:function(t){e.$refs.patientDobMenu.save(e.patientDetail.dateOfBirth),e.patientDobMenu=!1}},model:{value:e.patientDetail.dateOfBirth,callback:function(t){e.$set(e.patientDetail,"dateOfBirth",t)},expression:"patientDetail.dateOfBirth"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-select",{attrs:{items:e.genderArr,label:"Giới tính"},model:{value:e.patientDetail.gender,callback:function(t){e.$set(e.patientDetail,"gender",t)},expression:"patientDetail.gender"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email"},model:{value:e.patientDetail.email,callback:function(t){e.$set(e.patientDetail,"email",t)},expression:"patientDetail.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-text-field",{attrs:{rules:e.phoneRules,label:"Số điện thoại",type:"number"},model:{value:e.patientDetail.phoneNumber,callback:function(t){e.$set(e.patientDetail,"phoneNumber",t)},expression:"patientDetail.phoneNumber"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Địa chỉ"},model:{value:e.patientDetail.address,callback:function(t){e.$set(e.patientDetail,"address",t)},expression:"patientDetail.address"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.patientDetailValid,color:"primary",text:""},on:{click:function(t){e.patientDetailDialog=!1,e.updatePatientInfo(e.patientDetail)}}},[e._v("Chỉnh sửa")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.patientDetailDialog=!1}}},[e._v("Đóng")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.assignToPracDialog,callback:function(t){e.assignToPracDialog=t},expression:"assignToPracDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Gán quyền quản lý bệnh nhân cho Bác sĩ đa khoa")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.inquiryHeaders,items:e.patientDetail.inquiries,"single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn yêu cầu tư vấn")]),a("v-spacer")],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}}]),model:{value:e.selectedInquiry,callback:function(t){e.selectedInquiry=t},expression:"selectedInquiry"}})],1),a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.doctorHeaders,items:e.allPractitioner,"single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn Bác sĩ đa khoa")]),a("v-spacer")],1)]},proxy:!0}]),model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:"",disabled:0==e.selectedInquiry.length||0==e.selectedDoctor.length},on:{click:function(t){e.assignToPrac(e.patientDetail.id,e.selectedInquiry,e.selectedDoctor,!1),e.assignToPracDialog=!1}}},[e._v("GÁN")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.assignToPracDialog=!1,e.selectedDoctor=[],e.selectedInquiry=[]}}},[e._v("ĐÓNG")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:""}},n),[e._v("Tạo tài khoản bệnh nhân")])]}}]),model:{value:e.registerObj.dialog,callback:function(t){e.$set(e.registerObj,"dialog",t)},expression:"registerObj.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo tài khoản")])]),a("v-card-text",[a("v-form",{model:{value:e.registerObj.valid,callback:function(t){e.$set(e.registerObj,"valid",t)},expression:"registerObj.valid"}},[a("v-row",{attrs:{wrap:""}},[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"people",rules:e.noEmptyRules,label:"Tên người dùng"},model:{value:e.registerObj.name,callback:function(t){e.$set(e.registerObj,"name",t)},expression:"registerObj.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"email",rules:e.emailRules,label:"Email"},model:{value:e.registerObj.email,callback:function(t){e.$set(e.registerObj,"email",t)},expression:"registerObj.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"call",rules:e.phoneRules,label:"Số điện thoại"},model:{value:e.registerObj.phoneNumber,callback:function(t){e.$set(e.registerObj,"phoneNumber",t)},expression:"registerObj.phoneNumber"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.registerObj.dateOfBirth,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.registerObj,"dateOfBirth",t)},"update:return-value":function(t){return e.$set(e.registerObj,"dateOfBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{readonly:"",label:"Ngày sinh","prepend-icon":"event"},model:{value:e.registerObj.dateOfBirth,callback:function(t){e.$set(e.registerObj,"dateOfBirth",t)},expression:"registerObj.dateOfBirth"}},n))]}}]),model:{value:e.registerObj.dateMenu,callback:function(t){e.$set(e.registerObj,"dateMenu",t)},expression:"registerObj.dateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.registerObj.dateOfBirth,callback:function(t){e.$set(e.registerObj,"dateOfBirth",t)},expression:"registerObj.dateOfBirth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.registerObj.dateOfBirth)}}},[e._v("CHỌN")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.registerObj.dateMenu=!1}}},[e._v("ĐÓNG")])],1)],1)],1)],1),a("v-row",{attrs:{row:"",wrap:""}},[a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e._v(" Giới tính "),a("v-radio-group",{attrs:{row:""},model:{value:e.registerObj.gender,callback:function(t){e.$set(e.registerObj,"gender",t)},expression:"registerObj.gender"}},[a("v-radio",{attrs:{label:"Nam",value:"0"}}),a("v-radio",{attrs:{label:"Nữ",value:"1"}}),a("v-radio",{attrs:{label:"Khác",value:"2"}})],1)],1),a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e._v(" Chức vụ "),a("v-select",{attrs:{readonly:"",items:e.registerObj.roles},model:{value:e.registerObj.role,callback:function(t){e.$set(e.registerObj,"role",t)},expression:"registerObj.role"}})],1)],1),a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Mật khẩu",rules:e.noEmptyRules,type:"password"},model:{value:e.registerObj.password,callback:function(t){e.$set(e.registerObj,"password",t)},expression:"registerObj.password"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:!e.registerObj.valid,text:""},on:{click:function(t){e.registerObj.dialog=!1,e.register(e.registerObj.name,e.registerObj.email,e.registerObj.phoneNumber,e.registerObj.dateOfBirth,e.registerObj.gender,e.registerObj.role,e.registerObj.password)}}},[e._v("Tạo")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.registerObj.dialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.deleteUserDialog,callback:function(t){e.deleteUserDialog=t},expression:"deleteUserDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận hủy kích hoạt tài khoản")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn hủy kích hoạt tài khoản này? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.deleteUserDialog=!1,e.deleteUser(e.deleteUserId,e.deleteUserTypeIsStaff)}}},[e._v(" XÁC NHẬN ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.deleteUserDialog=!1,e.deleteUserId=0,e.deleteUserTypeIsStaff=null}}},[e._v(" ĐÓNG ")])],1)],1)],1)],1)},Tt=[],Pt=a("001f"),Ot={data:function(){return{doctorHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"EMAIL",value:"email",align:"start"},{text:"SỐ ĐT",value:"phoneNumber",align:"start"}],loadingDoctor:!1,deleteUserDialog:!1,deleteUserId:0,deleteUserTypeIsStaff:null,allPatients:[],patientHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"TUỔI",value:"age",align:"start"},{text:"TRẠNG THÁI",value:"status",align:"start"},{text:"CHỌN HÀNH ĐỘNG",value:"more",align:"end"}],patientPage:1,patientPageSize:10,patientPages:1,showPatient:!0,patientDetailDialog:!1,loadingPatient:!1,patientDetail:{dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:""},patientDetailValid:!0,patientDobMenu:!1,inquiryHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"NỘI DUNG",value:"content",align:"start"}],assignToPracDialog:!1,patientSearch:{name:void 0,status:1,gender:void 0,age:void 0},patientSearchMenu:!1,patientStatus:[{text:"Chưa có bác sĩ quản lý",value:1},{text:"Ngừng hoạt động",value:1024}],patientStatusBitAllValue:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],registerObj:{dateOfBirth:"",dateMenu:!1,valid:!1,dialog:!1,email:"",gender:"0",name:"",password:"",phoneNumber:"",role:4,roles:[{text:"Bệnh nhân",value:4}]},emailRules:[function(e){return!!e||"Chưa nhập E-mail"},function(e){return/.+@.+/.test(e)||"E-mail không đúng định dạng"}],noEmptyRules:[function(e){return!!e||"Không được để trống"}],phoneRules:[function(e){return/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\\./0-9]*$/g.test(e)||"Không được để trống và chỉ được nhập số"}],allPractitioner:[],selectedInquiry:[],selectedDoctor:[],genderArr:[{text:"Nam",value:0},{text:"Nữ",value:1},{text:"Khác",value:2}],inquiries:[],loadingInquiries:!1,inquiryPage:1,inquiryPageSize:10,inquiryPages:0,inquiryHeadersMain:[{text:"ID",value:"id",align:"start"},{text:"TÊN BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"NỘI DUNG",value:"content",align:"start"},{text:"GÁN",value:"more",align:"end"}],selectInquiryMain:[],selectedInquiryMain:[],assignToPracDialogMain:!1,inquiryAssignValue:[{text:"Tất cả các yêu cầu",value:!0},{text:"Yêu cầu chưa được gán cho bác sĩ cấp dưới",value:!1}],inquiryAssign:!0}},computed:Object(o["a"])({},Object(c["b"])({newNotification:"newNotification",handleNotificationObj:"handleNotificationObj"})),watch:{newNotification:function(){this.handleNewNotification(this.newNotification)}},methods:{setPatientStatusBit:function(e,t){if(1==t)switch(e){case 0:this.patientStatusBitAllValue[1]=0,this.patientStatusBitAllValue[2]=0,this.patientStatusBitAllValue[3]=0,this.patientStatusBitAllValue[10]=0,this.patientStatusBitAllValue[11]=0;break;case 1:case 2:case 3:this.patientStatusBitAllValue[0]=0,this.patientStatusBitAllValue[10]=0,this.patientStatusBitAllValue[11]=0;break;case 10:this.patientStatusBitAllValue[0]=0,this.patientStatusBitAllValue[1]=0,this.patientStatusBitAllValue[2]=0,this.patientStatusBitAllValue[3]=0,this.patientStatusBitAllValue[4]=0,this.patientStatusBitAllValue[11]=0;break;case 11:this.patientStatusBitAllValue[0]=0,this.patientStatusBitAllValue[1]=0,this.patientStatusBitAllValue[2]=0,this.patientStatusBitAllValue[3]=0,this.patientStatusBitAllValue[4]=0,this.patientStatusBitAllValue[10]=0;break;default:break}},returnValueFromStatusBit:function(){if(1==this.patientStatusBitAllValue[11])return-1;if(1==this.patientStatusBitAllValue[10])return 1024;if(1==this.patientStatusBitAllValue[0])return 1==this.patientStatusBitAllValue[4]?17:1;for(var e=[],t=0;t<this.patientStatusBitAllValue.length-1;t++)e[t]=1==this.patientStatusBitAllValue[t]?1:0;var a=e.reverse().join("");return 0!=e[9]||1!=e[8]&&1!=e[7]?Pt.convertToDecimal(a):Pt.convertToDecimal(a)+1},returnInquiryType:function(e){return 0==e?"Khám bệnh":"Dinh dưỡng"},returnGender:function(e){switch(e){case 0:return"Nam";case 1:return"Nữ";case 2:return"Khác"}},checkString:function(e){return null!=e&void 0!=e?e:"_"},returnRole:function(e){var t="";switch(e){case"PATIENT":t="Bệnh nhân";break;case"PRACTITIONER":t="Bác sĩ đa khoa";break;case"SPECIALIST":t="Bác sĩ chuyên khoa";break;case"DIETITIAN":t="Bác sĩ dinh dưỡng";break;case"COORDINATOR":t="ĐIỀU PHỐI VIÊN";break;default:t="";break}return t},getAllPatients:function(e,t,a){var n=this;this.loadingPatient=!0,this.allPatients=[];var i={page:e,size:t};a.status=0==this.returnValueFromStatusBit()?1:this.returnValueFromStatusBit();var s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],",")),0==a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/patients");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.patientPages=e.data.totalPages,n.updatePatients(e.data.content)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingPatient=!1}))},updatePatients:function(e){this.allPatients=e},goToPatientPage:function(e){var t="/patient/".concat(e);this.$router.push(t)},getPatientDetail:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết bệnh nhân...");var n="".concat(L.apiUrl,"/patients/").concat(e),i={id:e};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]?a.processPatientDetailFromServer(e.data,t):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},processPatientDetailFromServer:function(e,t){this.patientDetail=e,this.patientDetail.dateOfBirth=e.dateOfBirth.split("/").reverse().join("-"),1==t?this.patientDetailDialog=!0:this.assignToPracDialog=!0},assignToPrac:function(e,t,a,n){var i=this;this.$store.dispatch("turnOnLoadingDialog","Đang gán bệnh nhân cho bác sĩ...");var s="".concat(L.apiUrl,"/patients/").concat(e,"/doctor"),l={doctor_id:a[0].id,inquiry_id:t[0].id};F.postApi(s,l).then((function(e){"2"===e.status.toString()[0]?(i.$toast.open({message:"Gán quyền quản lý bệnh nhân thành công",type:"success"}),n?(i.selectedDoctor=[],i.selectedInquiryMain=[],i.selectInquiryMain=[]):(i.selectedDoctor=[],i.selectedInquiry=[]),i.inquiryPage=1,i.getInquiries(i.inquiryPage,i.inquiryPageSize),i.patientPage=1,i.patientSearch={name:void 0,status:1,gender:void 0,age:void 0},i.getAllPatients(i.patientPage,i.patientPageSize,i.patientSearch)):i.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){i.$store.dispatch("turnOffLoadingDialog")}))},register:function(e,t,a,n,i,s,l){var r=this;this.$store.dispatch("turnOnLoadingDialog","Đang Tạo tài khoản mới...");var o={name:e,email:t,phone:a,dob:n.split("-").reverse().join("/"),gender:parseInt(i,10),role:s,password:l},c="".concat(L.apiUrl,"/auth/sign_up");F.postApi(c,o).then((function(e){"2"===e.status.toString()[0]?(r.$toast.open({message:"Tạo tài khoản thành công",type:"success"}),r.patientPage=1,r.patientSearch={name:void 0,status:1,gender:void 0,age:void 0},r.getAllPatients(r.patientPage,r.patientPageSize,r.patientSearch)):r.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){r.$store.dispatch("turnOffLoadingDialog")}))},deleteUser:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang hủy kích hoạt tài khoản này...");var n="".concat(L.apiUrl,"/user"),i={id:e};F.deleteApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Hủy kích hoạt tài khoản thành công",type:"success"}),t?(a.doctorPage=1,a.getAllDoctor(a.doctorPage,a.doctorPageSize,a.doctorSearch)):(a.patientPage=1,a.getAllPatients(a.patientPage,a.patientPageSize,a.patientSearch))):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog"),a.deleteUserId=0,a.deleteUserTypeIsStaff=null}))},reactivateUser:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang tái kích hoạt tài khoản này...");var n="".concat(L.apiUrl,"/user"),i={id:e};F.postApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.$toast.open({message:"Tái kích hoạt tài khoản thành công",type:"success"}),t?(a.doctorPage=1,a.getAllDoctor(a.doctorPage,a.doctorPageSize,a.doctorSearch)):(a.patientPage=1,a.getAllPatients(a.patientPage,a.patientPageSize,a.patientSearch))):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},getAllPractitioner:function(){var e=this,t={page:1,size:1e3,search:"role=0,status=1"},a="".concat(L.apiUrl,"/doctors");F.getApi(a,t).then((function(t){"2"===t.status.toString()[0]?e.allPractitioner=t.data.content:e.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){console.log(e)}))},getInquiries:function(e,t){var a=this;this.inquiries=[],this.loadingInquiries=!0;var n="".concat(L.apiUrl,"/inquiries"),i={page:e,size:t};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]?(a.inquiries=e.data.content,a.inquiryPages=e.data.totalPages):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.loadingInquiries=!1}))},openAssignToPracMainDialog:function(e){this.selectInquiryMain.push(e),this.selectedInquiryMain.push(e),this.assignToPracDialogMain=!0},findObjIndexById:function(e,t){for(var a=-1,n=0;n<e.length;n++)e[n].id==t&&(a=n);return a},handleNewNotification:function(e){var t=this,a="".concat(L.apiUrl,"/notifications/").concat(e.notificationId);F.getApi(a).then((function(e){if("2"===e.status.toString()[0]){var a=e.data.type;0!=a&&6!=a&&4!=a&&5!=a||(t.patientPage=1,t.patientSearch={name:void 0,status:1,gender:void 0,age:void 0},t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize))}})).catch((function(e){console.log(e)}))},updateDoctorInfo:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang cập nhật thông tin...");var a="".concat(L.apiUrl,"/user/").concat(e.id),n={description:e.description,dob:e.dateOfBirth.split("-").reverse().join("/"),email:e.email,gender:e.gender,name:e.name,phone:e.phoneNumber};F.putApi(a,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Cập nhật thành công!",type:"error"}),t.doctorPage=1,t.getAllDoctor(t.doctorPage,t.doctorPageSize,t.doctorSearch)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},updatePatientInfo:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang cập nhật thông tin...");var a="".concat(L.apiUrl,"/user/").concat(e.id),n={address:e.address,dob:e.dateOfBirth.split("-").reverse().join("/"),email:e.email,gender:e.gender,name:e.name,phone:e.phoneNumber};F.putApi(a,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Cập nhật thành công!",type:"success"}),t.patientPage=1,t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},checkComeFromNotiPage:function(){var e=this.handleNotificationObj.typeNoti,t=this.handleNotificationObj.payloadId;if(-1!=e){switch(e){case 0:break;case 4:break;case 5:break;case 6:this.getPatientDetail(t,!1);break;default:break}this.$store.dispatch("resetHandleNotification")}}},created:function(){this.checkComeFromNotiPage(),this.registerObj.dateOfBirth=(new Date).toISOString().substr(0,10),this.getInquiries(this.inquiryPage,this.inquiryPageSize),this.getAllPatients(this.patientPage,this.patientPageSize,this.patientSearch),this.getAllPractitioner()},destroyed:function(){}},Rt=Ot,Nt=a("ac7c"),jt=Object(h["a"])(Rt,wt,Tt,!1,null,"edddfa48",null),At=jt.exports;v()(jt,{VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:Nt["a"],VCol:Ge["a"],VContainer:Ee["a"],VDataTable:Fe["a"],VDatePicker:It["a"],VDialog:D["a"],VDivider:de["a"],VForm:at["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemTitle:ve["c"],VMenu:fe["a"],VPagination:Ke["a"],VRadio:pt["a"],VRadioGroup:vt["a"],VRow:Ye["a"],VSelect:kt["a"],VSpacer:me["a"],VTextField:nt["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("h1",[e._v("Chức năng dành cho Bác sĩ Đa khoa")])])],1),a("v-row",{attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{"no-data-text":"Không có yêu cầu tư vấn nào","loading-text":"Đang lấy dữ liệu",loading:e.loadingInquiries,headers:e.inquiryHeadersMain,items:e.inquiries,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Yêu cầu tư vấn")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-select",{attrs:{items:e.inquiryAssignValue},on:{input:function(t){e.inquiryPage=1,e.getInquiries(e.inquiryPage,e.inquiryPageSize,e.inquiryAssign)}},model:{value:e.inquiryAssign,callback:function(t){e.inquiryAssign=t},expression:"inquiryAssign"}})],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getDetailInquiry(n.id)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){return e.openAssignToDoctorMainDialog(n)}}},[a("v-list-item-title",[e._v("Yêu cầu hội chẩn chuyên khoa")])],1)],1)],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.inquiryPages},on:{input:function(t){return e.getInquiries(e.inquiryPage,e.inquiryPageSize,e.inquiryAssign)}},model:{value:e.inquiryPage,callback:function(t){e.inquiryPage=t},expression:"inquiryPage"}})],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.assignToDoctorDialogMain,callback:function(t){e.assignToDoctorDialogMain=t},expression:"assignToDoctorDialogMain"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Yêu cầu hội chẩn chuyên khoa")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.inquiryHeaders,items:e.selectInquiryMain,"single-expand":"","show-expand":"","single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn yêu cầu tư vấn")]),a("v-spacer")],1)]},proxy:!0},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.inquiryHeaders.length}},[a("b",[e._v("Yêu cầu tư vấn: "+e._s(n.content))])])]}}]),model:{value:e.selectedInquiryMain,callback:function(t){e.selectedInquiryMain=t},expression:"selectedInquiryMain"}})],1),a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.doctorHeaders,items:e.selectableDoctor,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.selectDoctorTitle))]),a("v-spacer")],1)]},proxy:!0}]),model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:"",disabled:0==e.selectedInquiryMain.length||0==e.selectedDoctor},on:{click:function(t){e.assignToPrac(e.selectedInquiryMain[0].patient.id,e.selectedInquiryMain,e.selectedDoctor),e.assignToDoctorDialogMain=!1,e.selectedInquiryMain=[],e.selectedDoctor=[],e.selectInquiryMain=[]}}},[e._v("GÁN")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.assignToDoctorDialogMain=!1,e.selectedInquiryMain=[],e.selectedDoctor=[],e.selectInquiryMain=[]}}},[e._v("ĐÓNG")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:e.showPatient,expression:"showPatient"}],staticClass:"elevation-0",attrs:{"no-data-text":"Không có kết quả phù hợp","loading-text":"Đang lấy dữ liệu",loading:e.loadingPatient,headers:e.patientHeaders,items:e.allPatients,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Bệnh nhân quản lý")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.patientSearchMenu,callback:function(t){e.patientSearchMenu=t},expression:"patientSearchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm bệnh nhân")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",label:"Tên"},model:{value:e.patientSearch.name,callback:function(t){e.$set(e.patientSearch,"name",t)},expression:"patientSearch.name"}}),a("v-select",{attrs:{clearable:"",items:e.genderArr,label:"Giới tính"},model:{value:e.patientSearch.gender,callback:function(t){e.$set(e.patientSearch,"gender",t)},expression:"patientSearch.gender"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"Tuổi"},model:{value:e.patientSearch.age,callback:function(t){e.$set(e.patientSearch,"age",t)},expression:"patientSearch.age"}}),a("span",[a("v-checkbox",{attrs:{label:"Tất cả bệnh nhân quản lý"},on:{change:function(t){return e.setPatientStatusBit(6,e.patientStatusBitAllValue[6])}},model:{value:e.patientStatusBitAllValue[6],callback:function(t){e.$set(e.patientStatusBitAllValue,6,t)},expression:"patientStatusBitAllValue[6]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có bác sĩ chuyên khoa"},on:{change:function(t){return e.setPatientStatusBit(2,e.patientStatusBitAllValue[2])}},model:{value:e.patientStatusBitAllValue[2],callback:function(t){e.$set(e.patientStatusBitAllValue,2,t)},expression:"patientStatusBitAllValue[2]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có bác sĩ dinh dưỡng"},on:{change:function(t){return e.setPatientStatusBit(3,e.patientStatusBitAllValue[3])}},model:{value:e.patientStatusBitAllValue[3],callback:function(t){e.$set(e.patientStatusBitAllValue,3,t)},expression:"patientStatusBitAllValue[3]"}}),a("v-checkbox",{attrs:{label:"Bệnh nhân có lịch gửi chỉ số sức khỏe"},on:{change:function(t){return e.setPatientStatusBit(4,e.patientStatusBitAllValue[4])}},model:{value:e.patientStatusBitAllValue[4],callback:function(t){e.$set(e.patientStatusBitAllValue,4,t)},expression:"patientStatusBitAllValue[4]"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.patientSearchMenu=!1,e.patientPage=1,e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.patientSearchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return e.getPatientDetail(n.id,!0)}}},[e._v(e._s(n.name))])]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getPatientDetail(n.id,!0)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){return e.getPatientDetail(n.id,!1)}}},[a("v-list-item-title",[e._v("Gán bệnh nhân")])],1),a("v-list-item",{on:{click:function(t){e.newSchedule.patientId=n.id,e.newScheduleDialog=!0}}},[a("v-list-item-title",[e._v("Tạo lịch gửi chỉ số sức khỏe")])],1),a("v-list-item",{on:{click:function(t){e.removePatientObj.id=n.id,e.removePatientObj.dialog=!0}}},[a("v-list-item-title",[e._v("Xóa bệnh nhân khỏi quyền quản lý")])],1)],1)],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.patientPages},on:{input:function(t){return e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}},model:{value:e.patientPage,callback:function(t){e.patientPage=t},expression:"patientPage"}})],1),a("br")]},proxy:!0}])})],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.patientDetailDialog,callback:function(t){e.patientDetailDialog=t},expression:"patientDetailDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[e._v(" Chi tiết bệnh nhân ")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"ID"},model:{value:e.patientDetail.id,callback:function(t){e.$set(e.patientDetail,"id",t)},expression:"patientDetail.id"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"Tên"},model:{value:e.patientDetail.name,callback:function(t){e.$set(e.patientDetail,"name",t)},expression:"patientDetail.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"Ngày sinh"},model:{value:e.patientDetail.dateOfBirth,callback:function(t){e.$set(e.patientDetail,"dateOfBirth",t)},expression:"patientDetail.dateOfBirth"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6",xl:"3"}},[a("v-text-field",{attrs:{readonly:"",label:"Giới tính"},model:{value:e.patientDetail.gender,callback:function(t){e.$set(e.patientDetail,"gender",t)},expression:"patientDetail.gender"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{readonly:"",label:"Email"},model:{value:e.patientDetail.email,callback:function(t){e.$set(e.patientDetail,"email",t)},expression:"patientDetail.email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{readonly:"",label:"Số điện thoại"},model:{value:e.patientDetail.phoneNumber,callback:function(t){e.$set(e.patientDetail,"phoneNumber",t)},expression:"patientDetail.phoneNumber"}})],1)],1),a("v-row",[a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.inquiryHeaders,items:e.patientDetail.inquiries,"single-expand":"","show-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Yêu cầu tư vấn")]),a("v-spacer")],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.inquiryHeaders.length}},[a("b",[e._v("Yêu cầu tư vấn: "+e._s(n.content))])])]}}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.patientDetailDialog=!1}}},[e._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"700px",persistent:""},model:{value:e.assignToDoctorDialog,callback:function(t){e.assignToDoctorDialog=t},expression:"assignToDoctorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Gán quyền quản lý bệnh nhân cho Bác sĩ chuyên khoa/dinh dưỡng")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.inquiryHeaders,items:e.patientDetail.inquiries,"single-expand":"","show-expand":"","single-select":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Chọn yêu cầu tư vấn")]),a("v-spacer")],1)]},proxy:!0},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.inquiryHeaders.length}},[a("b",[e._v("Yêu cầu tư vấn: "+e._s(n.content))])])]}}]),model:{value:e.selectedInquiry,callback:function(t){e.selectedInquiry=t},expression:"selectedInquiry"}})],1),a("v-col",{attrs:{sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-footer":"",headers:e.doctorHeaders,items:e.selectableDoctor,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v(e._s(e.selectDoctorTitle))]),a("v-spacer")],1)]},proxy:!0}]),model:{value:e.selectedDoctor,callback:function(t){e.selectedDoctor=t},expression:"selectedDoctor"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:"",disabled:0==e.selectedInquiry.length||0==e.selectedDoctor},on:{click:function(t){e.assignToPrac(e.patientDetail.id,e.selectedInquiry,e.selectedDoctor),e.assignToDoctorDialog=!1,e.selectedInquiry=[],e.selectedDoctor=[]}}},[e._v("GÁN")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.assignToDoctorDialog=!1,e.selectedInquiry=[],e.selectedDoctor=[]}}},[e._v("ĐÓNG")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.removePatientObj.dialog,callback:function(t){e.$set(e.removePatientObj,"dialog",t)},expression:"removePatientObj.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận xóa")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn xóa bệnh nhân này khỏi quyền quản lý của mình? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.removePatientObj.dialog=!1,e.removePatient(e.removePatientObj.id)}}},[e._v(" XÓA ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.removePatientObj.dialog=!1,e.removePatientObj.id=0}}},[e._v(" ĐÓNG ")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.healthIndexesSchedules.headers,items:e.healthIndexesSchedules.data,"hide-default-footer":"","no-data-text":"Hiện tại chưa có lịch gửi nào","loading-text":"Đang lấy dữ liệu...",loading:e.healthIndexesSchedules.loading},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Lịch gửi chỉ số sức khỏe")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.newScheduleDialog,callback:function(t){e.newScheduleDialog=t},expression:"newScheduleDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo lịch gửi chỉ số sức khỏe")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"4"}},[a("h3",[e._v("Thời gian nhắc nhở")])]),a("v-col",{attrs:{cols:"12",sm:"3",md:"3",lg:"4",xl:"4"}},[a("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":e.newSchedule.startDateMenu,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.newSchedule,"startDateMenu",t)},"update:return-value":function(t){return e.$set(e.newSchedule,"startDateMenu",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"Ngày bắt đầu",readonly:"","prepend-icon":"event"},model:{value:e.newSchedule.startDate,callback:function(t){e.$set(e.newSchedule,"startDate",t)},expression:"newSchedule.startDate"}},n))]}}]),model:{value:e.newSchedule.startDateMenu,callback:function(t){e.$set(e.newSchedule,"startDateMenu",t)},expression:"newSchedule.startDateMenu"}},[a("v-date-picker",{attrs:{scrollable:""},on:{input:function(t){e.newSchedule.startDateMenu=!1}},model:{value:e.newSchedule.startDate,callback:function(t){e.$set(e.newSchedule,"startDate",t)},expression:"newSchedule.startDate"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3",lg:"4",xl:"4"}},[a("v-menu",{ref:"startTimeMenu",attrs:{"close-on-content-click":!1,"return-value":e.newSchedule.startTimeMenu,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.newSchedule,"startTimeMenu",t)},"update:return-value":function(t){return e.$set(e.newSchedule,"startTimeMenu",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"Giờ bắt đầu",readonly:"","prepend-icon":"event"},model:{value:e.newSchedule.startTime,callback:function(t){e.$set(e.newSchedule,"startTime",t)},expression:"newSchedule.startTime"}},n))]}}]),model:{value:e.newSchedule.startTimeMenu,callback:function(t){e.$set(e.newSchedule,"startTimeMenu",t)},expression:"newSchedule.startTimeMenu"}},[a("v-time-picker",{attrs:{scrollable:""},on:{"click:minute":function(t){e.newSchedule.startTimeMenu=!1}},model:{value:e.newSchedule.startTime,callback:function(t){e.$set(e.newSchedule,"startTime",t)},expression:"newSchedule.startTime"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm:"4",md:"4",lg:"2",xl:"2"}},[a("h3",[e._v("Chu kỳ nhắc nhở")])]),a("v-col",[a("v-text-field",{attrs:{label:"Tháng",type:"number"},model:{value:e.newSchedule.month,callback:function(t){e.$set(e.newSchedule,"month",t)},expression:"newSchedule.month"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tuần",type:"number"},model:{value:e.newSchedule.week,callback:function(t){e.$set(e.newSchedule,"week",t)},expression:"newSchedule.week"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Ngày",type:"number"},model:{value:e.newSchedule.day,callback:function(t){e.$set(e.newSchedule,"day",t)},expression:"newSchedule.day"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Giờ",type:"number"},model:{value:e.newSchedule.hour,callback:function(t){e.$set(e.newSchedule,"hour",t)},expression:"newSchedule.hour"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{headers:e.healthIndexesHeaders,items:e.healthIndexes,"show-select":"","single-select":"","hide-default-footer":"","no-data-text":"Hiện tại chưa có chuyên môn nào","loading-text":"Đang lấy dữ liệu...",loading:e.loadingHealthIndexes,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Chọn chỉ số sức khỏe")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.healthIndexesHeaders.length}},[a("br"),a("h4",[e._v("Danh sách các chỉ số cần gửi")]),e._l(n.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[e._v(" - "+e._s(t.name)+" ")])})),a("br")],2)]}}]),model:{value:e.newSchedule.indexObj,callback:function(t){e.$set(e.newSchedule,"indexObj",t)},expression:"newSchedule.indexObj"}}),a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesPages},on:{input:function(t){e.newSchedule.indexObj=[],e.getHealthIndexes(e.healthIndexesPage,e.healthIndexesPageSize)}},model:{value:e.healthIndexesPage,callback:function(t){e.healthIndexesPage=t},expression:"healthIndexesPage"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.checkTimeScheduleAvailable||0==e.newSchedule.indexObj.length},on:{click:function(t){e.newScheduleDialog=!1,e.createSchedule(e.newSchedule)}}},[e._v("TẠO")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.newScheduleDialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.healthIndexesSchedules.searchMenu,callback:function(t){e.$set(e.healthIndexesSchedules,"searchMenu",t)},expression:"healthIndexesSchedules.searchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm lịch gửi")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID bệnh nhân"},model:{value:e.healthIndexesSchedules.search.id,callback:function(t){e.$set(e.healthIndexesSchedules.search,"id",t)},expression:"healthIndexesSchedules.search.id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên bệnh nhân"},model:{value:e.healthIndexesSchedules.search.name,callback:function(t){e.$set(e.healthIndexesSchedules.search,"name",t)},expression:"healthIndexesSchedules.search.name"}}),a("v-select",{attrs:{label:"Trạng thái lịch gửi",items:e.healthIndexesSchedules.allStatus},model:{value:e.healthIndexesSchedules.search.status,callback:function(t){e.$set(e.healthIndexesSchedules.search,"status",t)},expression:"healthIndexesSchedules.search.status"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesSchedules.searchMenu=!1,e.healthIndexesSchedules.page=1,e.getHealthIndexesSchedule(e.healthIndexesSchedules.page,e.healthIndexesSchedules.pageSize,e.healthIndexesSchedules.search)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.healthIndexesSchedules.searchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.scheduledTime",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.convertSecond(a.scheduledTime))+" ")]}},{key:"item.status",fn:function(t){var n=t.item;return[0==n.status?a("span",[e._v("Đang hoạt động")]):a("span",{staticStyle:{color:"red"}},[e._v("Đã xóa")])]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getDetailSchedule(n.id)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){e.healthIndexesSchedules.deleteId=n.id,e.healthIndexesSchedules.deleteDialog=!0}}},[a("v-list-item-title",[e._v("Xóa lịch gửi")])],1)],1)],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesSchedules.pages},on:{input:function(t){return e.getHealthIndexesSchedule(e.healthIndexesSchedules.page,e.healthIndexesSchedules.pages,e.healthIndexesSchedules.search)}},model:{value:e.healthIndexesSchedules.page,callback:function(t){e.$set(e.healthIndexesSchedules,"page",t)},expression:"healthIndexesSchedules.page"}})],1),a("br")]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.healthIndexesSchedules.detailScheduleDialog,callback:function(t){e.$set(e.healthIndexesSchedules,"detailScheduleDialog",t)},expression:"healthIndexesSchedules.detailScheduleDialog"}},[null!=e.healthIndexesSchedules.detailSchedule?a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chi tiết lịch gửi")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("h2",[e._v("Bệnh nhân: "+e._s(e.healthIndexesSchedules.detailSchedule.patient.name))]),a("h2",[e._v("Bác sĩ tạo chỉ số: "+e._s(e.healthIndexesSchedules.detailSchedule.doctor.role)+" "+e._s(e.healthIndexesSchedules.detailSchedule.doctor.name))])])],1),a("v-row",[a("v-col",[a("h2",[e._v("Thông tin mẫu chỉ số sức khỏe")]),a("h4",[e._v("Tên: "+e._s(e.healthIndexesSchedules.detailSchedule.index.name))]),a("h4",[e._v("Mô tả: "+e._s(e.healthIndexesSchedules.detailSchedule.index.description))]),a("h4",[e._v("Danh sách các chỉ số cần gửi")]),e._l(e.healthIndexesSchedules.detailSchedule.index.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[a("h4",[e._v(" - "+e._s(t.name)+" ")])])})),a("h4",[e._v("Thời gian nhắc nhở: "+e._s(e.convertSecond(e.healthIndexesSchedules.detailSchedule.scheduledTime)))]),a("h4",[e._v("Thời gian bắt đầu gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesSchedules.detailSchedule.startedAt)))]),a("h4",[e._v("Thời gian kết thúc gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesSchedules.detailSchedule.endedAt)))])],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesSchedules.detailScheduleDialog=!1}}},[e._v("Đóng")])],1)],1):e._e()],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.healthIndexesSchedules.deleteDialog,callback:function(t){e.$set(e.healthIndexesSchedules,"deleteDialog",t)},expression:"healthIndexesSchedules.deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận xóa")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn xóa lịch gửi này? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesSchedules.deleteDialog=!1,e.deleteSchedule(e.healthIndexesSchedules.deleteId)}}},[e._v(" XÓA ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesSchedules.deleteDialog=!1,e.healthIndexesSchedules.deleteId=0}}},[e._v(" ĐÓNG ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.healthIndexesResult.headers,items:e.healthIndexesResult.data,"hide-default-footer":"","no-data-text":"Hiện tại chưa có kết quả nào","loading-text":"Đang lấy dữ liệu...",loading:e.healthIndexesResult.loading},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Kết quả chỉ số bệnh nhân gửi lên")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.healthIndexesResult.searchMenu,callback:function(t){e.$set(e.healthIndexesResult,"searchMenu",t)},expression:"healthIndexesResult.searchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm lịch gửi")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID bệnh nhân"},model:{value:e.healthIndexesResult.search.patient_id,callback:function(t){e.$set(e.healthIndexesResult.search,"patient_id",t)},expression:"healthIndexesResult.search.patient_id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên bệnh nhân"},model:{value:e.healthIndexesResult.search.patient_name,callback:function(t){e.$set(e.healthIndexesResult.search,"patient_name",t)},expression:"healthIndexesResult.search.patient_name"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID lịch gửi"},model:{value:e.healthIndexesResult.search.scheduleId,callback:function(t){e.$set(e.healthIndexesResult.search,"scheduleId",t)},expression:"healthIndexesResult.search.scheduleId"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID chỉ số sức khỏe"},model:{value:e.healthIndexesResult.search.index_id,callback:function(t){e.$set(e.healthIndexesResult.search,"index_id",t)},expression:"healthIndexesResult.search.index_id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên chỉ số sức khỏe"},model:{value:e.healthIndexesResult.search.index_name,callback:function(t){e.$set(e.healthIndexesResult.search,"index_name",t)},expression:"healthIndexesResult.search.index_name"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesResult.searchMenu=!1,e.healthIndexesResult.page=1,e.getHealthIndexesResult(e.healthIndexesResult.page,e.healthIndexesResult.pageSize,e.healthIndexesResult.search)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.healthIndexesResult.searchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.schedule",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.schedule.patient.name)+" ")]}},{key:"item.createdAt",fn:function(t){return[e._v(" _ ")]}},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return t.stopPropagation(),e.getDetailHealthIndexesResultSchedule(n.schedule.id,n.tagId)}}},[e._v("Xem chi tiết")])]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesResult.pages},on:{input:function(t){return e.getHealthIndexesResult(e.healthIndexesResult.page,e.healthIndexesResult.pages,e.healthIndexesResult.search)}},model:{value:e.healthIndexesResult.page,callback:function(t){e.$set(e.healthIndexesResult,"page",t)},expression:"healthIndexesResult.page"}})],1),a("br")]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.healthIndexesResult.detailResultDialog,callback:function(t){e.$set(e.healthIndexesResult,"detailResultDialog",t)},expression:"healthIndexesResult.detailResultDialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chi tiết kết quả")])]),null!=e.healthIndexesResult.detailResult.schedule?a("v-card-text",[a("v-container",[a("h1",[e._v("Thông tin lịch gửi")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bệnh nhân: "+e._s(e.healthIndexesResult.detailResult.schedule.patient.name))]),a("h3",[e._v("Bác sĩ tạo chỉ số: "+e._s(e.healthIndexesResult.detailResult.schedule.doctor.role)+" "+e._s(e.healthIndexesResult.detailResult.schedule.doctor.name))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Thông tin mẫu chỉ số sức khỏe:")]),a("h4",[e._v("Tên: "+e._s(e.healthIndexesResult.detailResult.schedule.index.name))]),a("h4",[e._v("Mô tả: "+e._s(e.healthIndexesResult.detailResult.schedule.index.description))]),a("h4",[e._v("Danh sách các chỉ số cần gửi")]),e._l(e.healthIndexesResult.detailResult.schedule.index.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[a("h4",[e._v(" - "+e._s(t.name)+" ")])])})),a("h4",[e._v("Thời gian nhắc nhở: "+e._s(e.convertSecond(e.healthIndexesResult.detailResult.schedule.scheduledTime)))]),a("h4",[e._v("Thời gian bắt đầu gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesResult.detailResult.schedule.startedAt)))]),a("h4",[e._v("Thời gian kết thúc gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesResult.detailResult.schedule.endedAt)))])],2)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-header":"",headers:e.healthIndexesResult.detailResult.headers,items:e.healthIndexesResult.detailResult.result,"hide-default-footer":"","no-data-text":"Hiện tại chưa có kết quả nào"},scopedSlots:e._u([{key:"item.field",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.field.name)+" ")]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Kết quả")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0}],null,!1,1096165883)})],1)],1)],1)],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesResult.detailResult.schedule=null,e.healthIndexesResult.detailResult.result=[],e.healthIndexesResult.detailResultDialog=!1}}},[e._v("Đóng")])],1)],1)],1)],1),a("v-row",{staticClass:"fill-height",attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"4",xl:"4"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-card-title",[a("h3",[e._v("Thông tin chi tiết bệnh nhân")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{readonly:"",label:"ID"},model:{value:e.patientDetail.id,callback:function(t){e.$set(e.patientDetail,"id",t)},expression:"patientDetail.id"}}),a("v-text-field",{attrs:{readonly:"",label:"Tên"},model:{value:e.patientDetail.name,callback:function(t){e.$set(e.patientDetail,"name",t)},expression:"patientDetail.name"}}),a("v-text-field",{attrs:{readonly:"",label:"Ngày sinh"},model:{value:e.patientDetail.dateOfBirth,callback:function(t){e.$set(e.patientDetail,"dateOfBirth",t)},expression:"patientDetail.dateOfBirth"}}),a("v-text-field",{attrs:{readonly:"",label:"Giới tính"},model:{value:e.patientDetail.gender,callback:function(t){e.$set(e.patientDetail,"gender",t)},expression:"patientDetail.gender"}}),a("v-text-field",{attrs:{readonly:"",label:"Email"},model:{value:e.patientDetail.email,callback:function(t){e.$set(e.patientDetail,"email",t)},expression:"patientDetail.email"}}),a("v-text-field",{attrs:{readonly:"",label:"Số điện thoại"},model:{value:e.patientDetail.phoneNumber,callback:function(t){e.$set(e.patientDetail,"phoneNumber",t)},expression:"patientDetail.phoneNumber"}}),a("h3",[e._v("Bác sĩ đa khoa phụ trách: "+e._s(e.patientDetail.practitioner.name))])],1),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bác sĩ chuyên khoa phụ trách:")]),e._l(e.patientDetail.specialists,(function(t){return a("h3",{key:t.id},[e._v(" - "+e._s(t.name))])}))],2),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bác sĩ dinh dưỡng phụ trách:")]),e._l(e.patientDetail.dietitians,(function(t){return a("h3",{key:t.id},[e._v(" - "+e._s(t.name))])}))],2)],1),""!=e.patientDetail.id&&0!=e.patientDetail.id?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"show-expand":"","hide-default-footer":"",items:e.patientDetail.inquiries,headers:e.inquiryHeaders},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Yêu cầu tư vấn")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.inquiryHeaders.length}},[a("br"),a("h4",[e._v("Nội dung: "+e._s(n.content))]),a("br"),a("a",{on:{click:function(t){return t.stopPropagation(),e.getDetailInquiry(n.id)}}},[e._v("Xem chi tiết >>")]),a("br")])]}}],null,!1,155793001)})],1)],1):e._e(),""!=e.patientDetail.id&&0!=e.patientDetail.id?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.getPatientDetail(e.patientDetail.id,!1)}}},[e._v("Gán bệnh nhân")]),a("br"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.newSchedule.patientId=e.patientDetail.id,e.newScheduleDialog=!0}}},[e._v("Tạo lịch gửi chỉ số sức khỏe")]),a("br"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.removePatientObj.id=e.patientDetail.id,e.removePatientObj.dialog=!0}}},[e._v("Xóa bệnh nhân khỏi quyền quản lý")])],1)],1):e._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"8",xl:"8"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-card-title",[a("h3",[e._v("Chi tiết yêu cầu tư vấn")])]),null!=e.detailInquiry?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Nội dung: "+e._s(e.detailInquiry.content))]),a("h3",[e._v("Kiểu yêu cầu: "+e._s(e.returnInquiryType(e.detailInquiry.type)))]),0==e.detailInquiry.type?a("h3",[e._v("Thời gian làm xét nghiệm: "+e._s(e.returnTimeFromTimeArray(e.detailInquiry.date)))]):e._e(),1==e.detailInquiry.type?a("h3",[e._v("Thời gian ăn: "+e._s(e.returnTimeFromTimeArray(e.detailInquiry.date)))]):e._e(),a("h3",[e._v("Ảnh: ")])])],1),a("v-row",[e._l(e.detailInquiry.medicalRecords,(function(t,n){return a("v-col",{key:t.id,attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v("Tư vấn của "+e._s(e.returnRole(t.doctor.role))+" "+e._s(t.doctor.name))]),a("v-card-text",[a("h3",[e._v(" Chẩn đoán: "+e._s(t.diagnose)+" "),a("br"),e._v(" Kê đơn: "+e._s(t.prescription)+" "),a("br"),e._v(" Ghi chú: "+e._s(t.note)+" "),a("br"),e._v(" Trạng thái: "),0==t.status?a("span",{staticStyle:{color:"red"}},[e._v("Đang chờ duyệt")]):a("span",{staticStyle:{color:"green"}},[e._v("Đã được duyệt")])])]),a("v-card-actions",[a("v-spacer"),2!=t.status?a("v-btn",{attrs:{color:"primary",rounded:""},on:{click:function(a){return e.openEditRecordDialog(t.id,n,!0)}}},[e._v("Duyệt tư vấn")]):e._e()],1)],1)],1)})),e._l(e.detailInquiry.dietRecords,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v("Tư vấn của "+e._s(e.returnRole(t.doctor.role))+" "+e._s(t.doctor.name))]),a("v-card-text",[a("h3",[e._v(" Kê đơn: "+e._s(t.prescription)+" "),a("br"),e._v(" Ghi chú: "+e._s(t.note)+" "),a("br"),e._v(" Trạng thái: "),0==t.status?a("span",{staticStyle:{color:"red"}},[e._v("Đang chờ duyệt")]):a("span",{staticStyle:{color:"green"}},[e._v("Đã được duyệt")])])])],1)],1)})),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.editRecord.dialog,callback:function(t){e.$set(e.editRecord,"dialog",t)},expression:"editRecord.dialog"}},[null!=e.editRecord.obj?a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Duyệt tư vấn")])]),a("v-card-text",[a("v-container",[1==e.editRecord.isMedical?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Chẩn đoán"},model:{value:e.editRecord.obj.diagnose,callback:function(t){e.$set(e.editRecord.obj,"diagnose",t)},expression:"editRecord.obj.diagnose"}})],1)],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Đơn thuốc"},model:{value:e.editRecord.obj.prescription,callback:function(t){e.$set(e.editRecord.obj,"prescription",t)},expression:"editRecord.obj.prescription"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Ghi chú"},model:{value:e.editRecord.obj.note,callback:function(t){e.$set(e.editRecord.obj,"note",t)},expression:"editRecord.obj.note"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1==e.editRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.editRecord.obj.diagnose||""==e.editRecord.obj.prescription||""==e.editRecord.obj.note,text:""},on:{click:function(t){e.updateRecord(e.editRecord.recordId,e.editRecord.recordIndex,e.editRecord.isMedical,e.editRecord.obj.prescription,e.editRecord.obj.note,e.editRecord.obj.diagnose),e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("DUYỆT")]):e._e(),0==e.editRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.editRecord.obj.prescription||""==e.editRecord.obj.note,text:""},on:{click:function(t){e.updateRecord(e.editRecord.recordId,e.editRecord.recordIndex,e.editRecord.isMedical,e.editRecord.obj.prescription,e.editRecord.obj.note),e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("DUYỆT")]):e._e(),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("Đóng")])],1)],1):e._e()],1)],2),a("br"),a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v(" Giải đáp thắc mắc ")]),a("v-card-text",e._l(e.detailInquiry.replies,(function(t){return a("div",{key:t.id,staticStyle:{margin:"10px",padding:"10px",border:"1px solid grey","border-radius":"10px"}},[a("h4",[e._v(e._s(t.user.name)+" ("+e._s(e.returnRole(t.user.role))+") ")]),a("p",[e._v(e._s(t.content))])])})),0),a("v-card-actions",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{"background-color":"#CFD8DC",label:"Thêm câu trả lời tại đây...",outlined:"",rows:"4"},model:{value:e.replyText,callback:function(t){e.replyText=t},expression:"replyText"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{disabled:""==e.replyText,color:"primary"},on:{click:function(t){return e.addReply(e.detailInquiry.id,e.replyText)}}},[e._v("Trả lời")])],1)],1)],1),a("br")],1)],1)],1):e._e()],1)],1)],1)],1)},qt=[],Ct=(a("caad"),a("2532"),a("001f")),Ht={data:function(){return{allPatients:[],patientHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"TUỔI",value:"age",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],patientPage:1,patientPageSize:10,patientPages:0,showPatient:!0,patientDetailDialog:!1,loadingPatient:!1,patientDetail:{dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},assignToDoctorDialog:!1,inquiryHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"",value:"data-table-expand"}],patientSearch:{name:void 0,status:-1,gender:void 0,age:void 0},patientSearchMenu:!1,patientStatusBitAllValue:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],detailInquiry:null,replyText:"",doctorHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"EMAIL",value:"email",align:"start"},{text:"SỐ ĐT",value:"phoneNumber",align:"start"}],allSpecialist:[],allDietitian:[],selectedInquiry:[],selectableDoctor:[],selectDoctorTitle:"Chọn Bác sĩ để gán",selectedDoctor:[],editRecord:{obj:null,recordId:0,recordIndex:-1,isMedical:null,dialog:!1},genderArr:[{text:"Nam",value:0},{text:"Nữ",value:1},{text:"Khác",value:2}],removePatientObj:{dialog:!1,id:0},inquiries:[],loadingInquiries:!1,inquiryPage:1,inquiryPageSize:10,inquiryPages:0,inquiryHeadersMain:[{text:"ID",value:"id",align:"start"},{text:"TÊN BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"NỘI DUNG",value:"content",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],selectInquiryMain:[],selectedInquiryMain:[],assignToDoctorDialogMain:!1,inquiryAssignValue:[{text:"Tất cả các yêu cầu",value:!0},{text:"Yêu cầu chưa được gán cho bác sĩ cấp dưới",value:!1}],inquiryAssign:!0,healthIndexesSchedules:{data:[],page:1,pages:0,pageSize:10,search:{id:void 0,status:0,name:void 0},allStatus:[{text:"Đang hoạt động",value:0},{text:"Đã xóa",value:10}],searchMenu:!1,headers:[{text:"ID",value:"id",align:"start"},{text:"BỆNH NHÂN",value:"patient",align:"start"},{text:"THỜI GIAN NHẮC",value:"scheduledTime",align:"start"},{text:"TRẠNG THÁI",value:"status",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],loading:!1,deleteId:0,deleteDialog:!1,detailSchedule:null,detailScheduleDialog:!1},newScheduleDialog:!1,newSchedule:{patientId:0,month:"",week:"",day:"",hour:"",startDate:"",startDateMenu:!1,startTime:"08:00",startTimeMenu:!1,indexObj:[]},healthIndexes:[],healthIndexesHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"MÔ TẢ",value:"description",align:"start"},{text:"",value:"data-table-expand"}],loadingHealthIndexes:!1,detailHealthIndexes:null,healthIndexesPage:1,healthIndexesPages:0,healthIndexesPageSize:10,healthIndexesResult:{data:[],page:1,pages:0,pageSize:10,loading:!1,headers:[{text:"MÃ KẾT QUẢ",value:"tagId",align:"start"},{text:"BỆNH NHÂN",value:"schedule",align:"start"},{text:"THỜI GIAN GỬI",value:"createdAt",align:"start"},{text:"KẾT QUẢ",value:"value",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],search:{patient_id:void 0,patient_name:void 0,scheduleId:void 0,index_id:void 0,index_name:void 0},searchMenu:!1,detailResult:{schedule:null,result:[],headers:[{text:"CHỈ SỐ",value:"field",align:"start"},{text:"KẾT QUẢ",value:"value",align:"start"}]},detailResultDialog:!1}}},computed:Object(o["a"])({},Object(c["b"])({newNotification:"newNotification",handleNotificationObj:"handleNotificationObj"}),{checkTimeScheduleAvailable:function(){for(var e=new Array(this.newSchedule.month,this.newSchedule.week,this.newSchedule.day,this.newSchedule.hour),t=0;t<e.length;t++)if(0!=e[t]&&""!=e[t])return!0;return!1}}),watch:{newNotification:function(){this.handleNewNotification(this.newNotification)},selectedInquiry:function(){if(0==this.selectedInquiry.length)this.selectableDoctor=[],this.selectDoctorTitle="Chọn Bác sĩ",this.selectedDoctor=[];else{var e=this.selectedInquiry[0].type;0==e?(this.selectableDoctor=this.allSpecialist,this.selectDoctorTitle="Chọn Bác sĩ chuyên khoa"):(this.selectableDoctor=this.allDietitian,this.selectDoctorTitle="Chọn Bác sĩ dinh dưỡng")}},selectedInquiryMain:function(){if(0==this.selectedInquiryMain.length)this.selectableDoctor=[],this.selectDoctorTitle="Chọn Bác sĩ",this.selectedDoctor=[];else{var e=this.selectedInquiryMain[0].type;0==e?(this.selectableDoctor=this.allSpecialist,this.selectDoctorTitle="Chọn Bác sĩ chuyên khoa"):(this.selectableDoctor=this.allDietitian,this.selectDoctorTitle="Chọn Bác sĩ dinh dưỡng")}}},methods:{setPatientStatusBit:function(e,t){if(1==t)switch(e){case 2:case 3:this.patientStatusBitAllValue[5]=0,this.patientStatusBitAllValue[6]=0;break;case 4:this.patientStatusBitAllValue[6]=0;break;case 6:this.patientStatusBitAllValue[2]=0,this.patientStatusBitAllValue[3]=0,this.patientStatusBitAllValue[4]=0,this.patientStatusBitAllValue[5]=0;break;default:break}},returnValueFromStatusBit:function(){if(1!=this.patientStatusBitAllValue[6]&&this.patientStatusBitAllValue.includes(!0)){for(var e=[],t=0;t<5;t++)e[t]=1==this.patientStatusBitAllValue[t]?1:0;var a=e.reverse().join("");return Ct.convertToDecimal(a)+2}return-1},returnRole:function(e){var t="";switch(e){case"PATIENT":t="Bệnh nhân";break;case"PRACTITIONER":t="Bác sĩ đa khoa";break;case"SPECIALIST":t="Bác sĩ chuyên khoa";break;case"DIETITIAN":t="Bác sĩ dinh dưỡng";break;case"COORDINATOR":t="ĐIỀU PHỐI VIÊN";break;default:t="";break}return t},scrollBottom:function(){window.scrollTo(0,document.body.scrollHeight)},returnTimeFromTimeArray:function(e){try{var t=0,a=[],n=[];while(t<e.length)t<3?a.push(e[t]):n.push(e[t]),t++;var i="".concat(a.join("-")," ").concat(n.join(":"));return Ne()(i).format("HH:mm:ss DD/MM/YYYY")}catch(s){return console.log(s),"_"}},clearSpecAndDietCheck:function(){return 1==this.patientAllStatus[0].value?(this.patientAllStatus[1].value=!1,void(this.patientAllStatus[2].value=!1)):void 0},returnInquiryType:function(e){return 0==e?"Khám bệnh":"Dinh dưỡng"},checkGender:function(e){switch(e){case 0:return"Nam";case 1:return"Nữ";case 2:return"Khác"}},checkString:function(e){return null!=e&void 0!=e?e:"_"},getAllPatients:function(e,t,a){var n=this;this.loadingPatient=!0,this.allPatients=[];var i={page:e,size:t};a.status=this.returnValueFromStatusBit();var s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],","));i.search=s;var r="".concat(L.apiUrl,"/patients");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.patientPages=e.data.totalPages,n.updatePatients(e.data.content)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingPatient=!1}))},updatePatients:function(e){this.allPatients=e},getPatientDetail:function(e,t){var a=this;this.scrollBottom(),this.detailInquiry=null,this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết bệnh nhân...");var n="".concat(L.apiUrl,"/patients/").concat(e),i={id:e};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]?a.processPatientDetailFromServer(e.data,t):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},getPatientDetailAfterGetInquiry:function(e,t){var a=this;this.scrollBottom(),this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết bệnh nhân...");var n="".concat(L.apiUrl,"/patients/").concat(e),i={id:e};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]?a.processPatientDetailFromServer(e.data,t):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},processPatientDetailFromServer:function(e,t){this.patientDetail.dateOfBirth=e.dateOfBirth,this.patientDetail.createdDate=e.createdDate,this.patientDetail.email=e.email,this.patientDetail.gender=this.checkGender(e.gender),this.patientDetail.id=e.id,this.patientDetail.name=e.name,this.patientDetail.phoneNumber=e.phoneNumber,this.patientDetail.inquiries=e.inquiries,e.practitioner?this.patientDetail.practitioner=e.practitioner:this.patientDetail.practitioner={name:""},e.specialists?this.patientDetail.specialists=e.specialists:this.patientDetail.specialists=[],e.dietitians?this.patientDetail.dietitians=e.dietitians:this.patientDetail.dietitians=[],0==t&&(this.assignToDoctorDialog=!0)},getRepliesForInquiry:function(e,t,a,n){var i=this,s="".concat(L.apiUrl,"/replies"),l={"inquiry-id":t,page:a,size:n};F.getApi(s,l).then((function(t){if("2"===t.status.toString()[0]){var a=t.data.content;i.patientDetail.inquiries[e].replies=a}else i.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){i.$toast.open({message:e,type:"error"})}))},getDetailInquiry:function(e){var t=this;this.scrollBottom(),this.detailInquiry=null,this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết yêu cầu tư vấn...");var a="".concat(L.apiUrl,"/inquiries/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.detailInquiry=e.data,t.getPatientDetailAfterGetInquiry(e.data.patient.id,!0)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){t.$toast.open({message:e,type:"error"})})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},assignToPrac:function(e,t,a){for(var n=0;n<a.length;n++)this.assignToDoctor(e,t[0].id,a[n])},assignToDoctor:function(e,t,a){var n=this,i={doctor_id:a.id,inquiry_id:t},s="".concat(L.apiUrl,"/patients/").concat(e,"/doctor");F.postApi(s,i).then((function(t){"2"===t.status.toString()[0]?(n.$toast.open({message:"Gán quyền quản lý bệnh nhân cho bác sĩ ".concat(a.name," thành công!"),type:"success"}),n.getDoctorInCharge(e)):n.$toast.open({message:"Bad request: Bác sĩ này đã được gán cho bệnh nhân này"==t.data.message?"Bác sĩ ".concat(a.name," đã quản lý bệnh nhân này"):t.data.message,type:"error"})})).catch((function(e){n.$toast.open({message:e,type:"error"})}))},getDoctorInCharge:function(e){var t=this,a="".concat(L.apiUrl,"/patients/").concat(e,"/doctor");F.getApi(a).then((function(e){if("2"===e.status.toString()[0]){var a=e.data;t.patientDetail.specialists=a.specialists,t.patientDetail.dietitians=a.dietitians}else t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)}))},getAllSpec:function(){var e=this,t={search:"role=1,status=1",page:1,size:1e3},a="".concat(L.apiUrl,"/doctors");F.getApi(a,t).then((function(t){"2"===t.status.toString()[0]?e.allSpecialist=t.data.content:e.$toast.open({message:t.data.message,type:"error"})})).catch((function(t){e.$toast.open({message:t,type:"error"})}))},getAllDiet:function(){var e=this,t={search:"role=2,status=1",page:1,size:1e3},a="".concat(L.apiUrl,"/doctors");F.getApi(a,t).then((function(t){"2"===t.status.toString()[0]?e.allDietitian=t.data.content:e.$toast.open({message:t.data.message,type:"error"})})).catch((function(t){e.$toast.open({message:t,type:"error"})}))},addReply:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang thêm câu trả lời...");var n={inquiry_id:e,reply:t},i="".concat(L.apiUrl,"/replies");F.postApi(i,n).then((function(e){"2"===e.status.toString()[0]?(a.detailInquiry.replies.push(e.data),a.replyText=""):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},findObjIndexById:function(e,t){for(var a=-1,n=0;n<e.length;n++)e[n].id==t&&(a=n);return a},openEditRecordDialog:function(e,t,a){this.editRecord.obj=1==a?Object.assign({},this.detailInquiry.medicalRecords[t]):Object.assign({},this.detailInquiry.dietRecords[t]),this.editRecord.recordId=e,this.editRecord.recordIndex=t,this.editRecord.isMedical=a,this.editRecord.dialog=!0},updateRecord:function(e,t,a,n,i,s){var l=this,r="".concat(L.apiUrl,"/records"),o={type:0},c={id:e,prescription:n,note:i};s&&(c.diagnose=s),this.$store.dispatch("turnOnLoadingDialog","Đang duyệt tư vấn..."),F.putApi(r,c,o).then((function(e){"2"===e.status.toString()[0]?(l.$toast.open({message:"Duyệt tư vấn thành công",type:"success"}),1==a?(l.detailInquiry.medicalRecords.splice(t,1),l.getNewRecordFromNotification(e.data.id,0)):(l.detailInquiry.dietRecords[t].splice(t,1),l.getNewRecordFromNotification(e.data.id,1))):l.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){l.$store.dispatch("turnOffLoadingDialog")}))},removePatient:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang xóa khỏi quyền quản lý...");var a="".concat(L.apiUrl,"/patients/").concat(e,"/doctor");F.deleteApi(a).then((function(a){"2"===a.status.toString()[0]?(t.$toast.open({message:"Xóa khỏi quyền quản lý thành công",type:"success"}),t.patientDetail.id==e&&(t.patientDetail={dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},t.detailInquiry=null),t.patientPage=1,t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign)):t.$toast.open({message:a.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getInquiries:function(e,t,a){var n=this;this.inquiries=[],this.loadingInquiries=!0;var i="".concat(L.apiUrl,"/inquiries"),s={page:e,size:t};a&&(s.assigned=a),F.getApi(i,s).then((function(e){"2"===e.status.toString()[0]?(n.inquiries=e.data.content,n.inquiryPages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingInquiries=!1}))},openAssignToDoctorMainDialog:function(e){this.selectInquiryMain.push(e),this.selectedInquiryMain.push(e),this.assignToDoctorDialogMain=!0},logging:function(){console.log(this.patientDetail)},getNewRecordFromNotification:function(e,t){var a=this,n="".concat(L.apiUrl,"/records/").concat(e),i={type:t};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]&&null!=a.detailInquiry&&a.detailInquiry.id==e.data.inquiry.id&&(0==e.data.inquiry.type?a.detailInquiry.medicalRecords.push(e.data):a.detailInquiry.dietRecords.push(e.data))})).catch((function(e){console.log(e)}))},getInquiryFromRecordId:function(e,t){var a=this,n="".concat(L.apiUrl,"/records/").concat(e),i={type:t};F.getApi(n,i).then((function(e){if("2"===e.status.toString()[0]){a.detailInquiry=null;var t=e.data;a.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết yêu cầu tư vấn...");var n="".concat(L.apiUrl,"/inquiries/").concat(t.inquiry.id);F.getApi(n).then((function(e){"2"===e.status.toString()[0]?(a.detailInquiry=e.data,t.recordType+t.status==0&&a.detailInquiry.medicalRecords.push(t),a.getPatientDetailAfterGetInquiry(e.data.patient.id,!0)):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){a.$toast.open({message:e,type:"error"})})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))}})).catch((function(e){console.log(e)}))},convertSecond:function(e){var t=Math.floor(e/18144e3),a=0==t?"":"".concat(t," tháng "),n=Math.floor(e%18144e3/604800),i=0==n?"":"".concat(n," tuần "),s=Math.floor(e%18144e3%604800/86400),l=0==s?"":"".concat(s," ngày "),r=Math.floor(e%18144e3%604800%86400/3600),o=0==r?"":"".concat(r," giờ "),c=a+i+l+o;return c},getHealthIndexesSchedule:function(e,t,a){var n=this;this.healthIndexesSchedules.data=[],this.healthIndexesSchedules.loading=!0;var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],",")),0==a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/health_indexes/schedule");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.healthIndexesSchedules.data=e.data.content,n.healthIndexesSchedules.pages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.healthIndexesSchedules.loading=!1}))},getDetailSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết lịch gửi...");var a="".concat(L.apiUrl,"/health_indexes/schedule/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.healthIndexesSchedules.detailSchedule=e.data,t.healthIndexesSchedules.detailScheduleDialog=!0):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},createSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang tạo lịch gửi mới...");var a=0;""!=e.month&&(a+=18144e3*parseInt(e.month)),""!=e.week&&(a+=604800*parseInt(e.week)),""!=e.day&&(a+=86400*parseInt(e.day)),""!=e.hour&&(a+=3600*parseInt(e.hour));var n={index_id:e.indexObj[0].id,patient_id:e.patientId,scheduled:a,start:"".concat(e.startDate.split("-").reverse().join("/")," ").concat(e.startTime,":00")},i="".concat(L.apiUrl,"/health_indexes/schedule");F.postApi(i,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Tạo lịch gửi thành công",type:"success"}),t.healthIndexesSchedules.page=1,t.healthIndexesSchedules.search={id:void 0,status:void 0,name:void 0},t.getHealthIndexesSchedule(t.healthIndexesSchedules.page,t.healthIndexesSchedules.pageSize,t.healthIndexesSchedules.search)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},deleteSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang xóa lịch gửi...");var a="".concat(L.apiUrl,"/health_indexes/schedule"),n={id:e};F.deleteApi(a,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Xóa lịch gửi thành công",type:"error"}),t.healthIndexesSchedules.page=1,t.getHealthIndexesSchedule(t.healthIndexesSchedules.page,t.healthIndexesSchedules.pageSize,t.healthIndexesSchedules.search)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getHealthIndexesResult:function(e,t,a){var n=this;this.healthIndexesResult.data=[],this.healthIndexesResult.loading=!0;var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/health_indexes/result");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.healthIndexesResult.data=e.data.content,n.healthIndexesResult.pages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.healthIndexesResult.loading=!1}))},getDetailHealthIndexesResultSchedule:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết kết quả...");var n="".concat(L.apiUrl,"/health_indexes/schedule/").concat(e);F.getApi(n).then((function(e){"2"===e.status.toString()[0]?(a.healthIndexesResult.detailResult.schedule=e.data,a.getDetailHealthIndexesResult(t)):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},getDetailHealthIndexesResult:function(e){var t=this,a="".concat(L.apiUrl,"/health_indexes/result/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.healthIndexesResult.detailResult.result=e.data,t.healthIndexesResult.detailResultDialog=!0):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getHealthIndexes:function(e,t){var a=this;this.healthIndexes=[],this.loadingHealthIndexes=!0;var n={page:e,size:t},i="".concat(L.apiUrl,"/health_indexes");F.getApi(i,n).then((function(e){"2"===e.status.toString()[0]?(a.healthIndexesPages=e.data.totalPages,a.healthIndexes=e.data.content):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.loadingHealthIndexes=!1}))},handleNewNotification:function(e){var t=this,a="".concat(L.apiUrl,"/notifications/").concat(e.notificationId);F.getApi(a).then((function(e){if("2"===e.status.toString()[0]){var a=e.data.type,n=e.data.payloadId;switch(a){case 0:t.inquiryPage=1,t.inquiryAssign=!0,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;case 1:t.getNewRecordFromNotification(n,0);break;case 11:t.getNewRecordFromNotification(n,1);break;case 3:t.patientPage=1,t.patientSearch={name:void 0,status:-1,gender:void 0,age:void 0},t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;case 4:case 5:case 6:t.patientDetail.id==n&&t.getDoctorInCharge(n);break;case 10:n==t.patientDetail.id&&(t.patientDetail={dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},t.detailInquiry=null),t.patientPage=1,t.patientSearch={name:void 0,status:-1,gender:void 0,age:void 0},t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;default:console.log(a);break}}})).catch((function(e){console.log(e)}))},checkComeFromNotiPage:function(){var e=this.handleNotificationObj.typeNoti,t=this.handleNotificationObj.payloadId;if(-1!=e){switch(e){case 0:case 3:case 4:case 5:this.getDetailInquiry(t);break;case 1:this.getInquiryFromRecordId(t,0);break;case 11:this.getInquiryFromRecordId(t,1);break;case 6:this.getPatientDetail(t);break;case 10:break;default:break}this.$store.dispatch("resetHandleNotification")}}},created:function(){this.checkComeFromNotiPage(),this.newSchedule.startDate=(new Date).toISOString().substr(0,10),this.getInquiries(this.inquiryPage,this.inquiryPageSize,this.inquiryAssign),this.getAllPatients(this.patientPage,this.patientPageSize,this.patientSearch),this.getHealthIndexesSchedule(this.healthIndexesSchedules.page,this.healthIndexesSchedules.pageSize,this.healthIndexesSchedules.search),this.getHealthIndexesResult(this.healthIndexesResult.page,this.healthIndexesResult.pageSize,this.healthIndexesResult.search),this.getHealthIndexes(this.healthIndexesPage,this.healthIndexesPageSize),this.getAllSpec(),this.getAllDiet()}},Vt=Ht,Bt=a("c964"),Mt=Object(h["a"])(Vt,$t,qt,!1,null,"79aaddce",null),Ut=Mt.exports;v()(Mt,{VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCheckbox:Nt["a"],VCol:Ge["a"],VContainer:Ee["a"],VDataTable:Fe["a"],VDatePicker:It["a"],VDialog:D["a"],VDivider:de["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemTitle:ve["c"],VMenu:fe["a"],VPagination:Ke["a"],VRow:Ye["a"],VSelect:kt["a"],VSpacer:me["a"],VTextField:nt["a"],VTextarea:gt["a"],VTimePicker:Bt["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]});var Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",[a("h1",[e._v("Chức năng dành cho Bác sĩ Chuyên khoa/Dinh dưỡng")])])],1),a("v-row",{attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{"no-data-text":"Không có yêu cầu tư vấn nào","loading-text":"Đang lấy dữ liệu",loading:e.loadingInquiries,headers:e.inquiryHeadersMain,items:e.inquiries,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Yêu cầu tư vấn")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer")],1)]},proxy:!0},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.inquiryPages},on:{input:function(t){return e.getInquiries(e.inquiryPage,e.inquiryPageSize,e.inquiryAssign)}},model:{value:e.inquiryPage,callback:function(t){e.inquiryPage=t},expression:"inquiryPage"}})],1),a("br")]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return t.stopPropagation(),e.getDetailInquiry(n.id)}}},[e._v("Xem")])]}}])})],1)],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{directives:[{name:"show",rawName:"v-show",value:e.showPatient,expression:"showPatient"}],staticClass:"elevation-0",attrs:{"no-data-text":"Không có kết quả phù hợp","loading-text":"Đang lấy dữ liệu",loading:e.loadingPatient,headers:e.patientHeaders,items:e.allPatients,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Bệnh nhân quản lý")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.patientSearchMenu,callback:function(t){e.patientSearchMenu=t},expression:"patientSearchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm bệnh nhân")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",label:"Tên"},model:{value:e.patientSearch.name,callback:function(t){e.$set(e.patientSearch,"name",t)},expression:"patientSearch.name"}}),a("v-select",{attrs:{clearable:"",items:e.genderArr,label:"Giới tính"},model:{value:e.patientSearch.gender,callback:function(t){e.$set(e.patientSearch,"gender",t)},expression:"patientSearch.gender"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"Tuổi"},model:{value:e.patientSearch.age,callback:function(t){e.$set(e.patientSearch,"age",t)},expression:"patientSearch.age"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.patientSearchMenu=!1,e.patientPage=1,e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.patientSearchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return e.getPatientDetail(n.id)}}},[e._v(e._s(n.name))])]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getPatientDetail(n.id)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){e.newSchedule.patientId=n.id,e.newScheduleDialog=!0}}},[a("v-list-item-title",[e._v("Tạo lịch gửi chỉ số sức khỏe")])],1),a("v-list-item",{on:{click:function(t){e.removePatientObj.id=n.id,e.removePatientObj.dialog=!0}}},[a("v-list-item-title",[e._v("Xóa bệnh nhân khỏi quyền quản lý")])],1)],1)],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.patientPages},on:{input:function(t){return e.getAllPatients(e.patientPage,e.patientPageSize,e.patientSearch)}},model:{value:e.patientPage,callback:function(t){e.patientPage=t},expression:"patientPage"}})],1),a("br")]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.removePatientObj.dialog,callback:function(t){e.$set(e.removePatientObj,"dialog",t)},expression:"removePatientObj.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận xóa")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn xóa bệnh nhân này khỏi quyền quản lý của mình? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.removePatientObj.dialog=!1,e.removePatient(e.removePatientObj.id)}}},[e._v(" XÓA ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.removePatientObj.dialog=!1,e.removePatientObj.id=0}}},[e._v(" ĐÓNG ")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.healthIndexesSchedules.headers,items:e.healthIndexesSchedules.data,"hide-default-footer":"","no-data-text":"Hiện tại chưa có lịch gửi nào","loading-text":"Đang lấy dữ liệu...",loading:e.healthIndexesSchedules.loading},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Lịch gửi chỉ số sức khỏe")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:e.newScheduleDialog,callback:function(t){e.newScheduleDialog=t},expression:"newScheduleDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo lịch gửi chỉ số sức khỏe")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4",xl:"4"}},[a("h3",[e._v("Thời gian nhắc nhở")])]),a("v-col",{attrs:{cols:"12",sm:"3",md:"3",lg:"4",xl:"4"}},[a("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":e.newSchedule.startDateMenu,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.newSchedule,"startDateMenu",t)},"update:return-value":function(t){return e.$set(e.newSchedule,"startDateMenu",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"Ngày bắt đầu",readonly:"","prepend-icon":"event"},model:{value:e.newSchedule.startDate,callback:function(t){e.$set(e.newSchedule,"startDate",t)},expression:"newSchedule.startDate"}},n))]}}]),model:{value:e.newSchedule.startDateMenu,callback:function(t){e.$set(e.newSchedule,"startDateMenu",t)},expression:"newSchedule.startDateMenu"}},[a("v-date-picker",{attrs:{scrollable:""},on:{input:function(t){e.newSchedule.startDateMenu=!1}},model:{value:e.newSchedule.startDate,callback:function(t){e.$set(e.newSchedule,"startDate",t)},expression:"newSchedule.startDate"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"3",md:"3",lg:"4",xl:"4"}},[a("v-menu",{ref:"startTimeMenu",attrs:{"close-on-content-click":!1,"return-value":e.newSchedule.startTimeMenu,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.newSchedule,"startTimeMenu",t)},"update:return-value":function(t){return e.$set(e.newSchedule,"startTimeMenu",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{label:"Giờ bắt đầu",readonly:"","prepend-icon":"event"},model:{value:e.newSchedule.startTime,callback:function(t){e.$set(e.newSchedule,"startTime",t)},expression:"newSchedule.startTime"}},n))]}}]),model:{value:e.newSchedule.startTimeMenu,callback:function(t){e.$set(e.newSchedule,"startTimeMenu",t)},expression:"newSchedule.startTimeMenu"}},[a("v-time-picker",{attrs:{scrollable:""},on:{"click:minute":function(t){e.newSchedule.startTimeMenu=!1}},model:{value:e.newSchedule.startTime,callback:function(t){e.$set(e.newSchedule,"startTime",t)},expression:"newSchedule.startTime"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{sm:"4",md:"4",lg:"2",xl:"2"}},[a("h3",[e._v("Chu kỳ nhắc nhở")])]),a("v-col",[a("v-text-field",{attrs:{label:"Tháng",type:"number"},model:{value:e.newSchedule.month,callback:function(t){e.$set(e.newSchedule,"month",t)},expression:"newSchedule.month"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tuần",type:"number"},model:{value:e.newSchedule.week,callback:function(t){e.$set(e.newSchedule,"week",t)},expression:"newSchedule.week"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Ngày",type:"number"},model:{value:e.newSchedule.day,callback:function(t){e.$set(e.newSchedule,"day",t)},expression:"newSchedule.day"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Giờ",type:"number"},model:{value:e.newSchedule.hour,callback:function(t){e.$set(e.newSchedule,"hour",t)},expression:"newSchedule.hour"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12",xl:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{headers:e.healthIndexesHeaders,items:e.healthIndexes,"show-select":"","single-select":"","hide-default-footer":"","no-data-text":"Hiện tại chưa có chuyên môn nào","loading-text":"Đang lấy dữ liệu...",loading:e.loadingHealthIndexes,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Chọn mẫu")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.healthIndexesHeaders.length}},[a("br"),a("h4",[e._v("Danh sách các chỉ số cần gửi")]),e._l(n.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[e._v(" - "+e._s(t.name)+" ")])})),a("br")],2)]}}]),model:{value:e.newSchedule.indexObj,callback:function(t){e.$set(e.newSchedule,"indexObj",t)},expression:"newSchedule.indexObj"}}),a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesPages},on:{input:function(t){e.newSchedule.indexObj=[],e.getHealthIndexes(e.healthIndexesPage,e.healthIndexesPageSize)}},model:{value:e.healthIndexesPage,callback:function(t){e.healthIndexesPage=t},expression:"healthIndexesPage"}})],1),a("br")],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!e.checkTimeScheduleAvailable||0==e.newSchedule.indexObj.length},on:{click:function(t){e.newScheduleDialog=!1,e.createSchedule(e.newSchedule)}}},[e._v("TẠO")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.newScheduleDialog=!1}}},[e._v("ĐÓNG")])],1)],1)],1),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.healthIndexesSchedules.searchMenu,callback:function(t){e.$set(e.healthIndexesSchedules,"searchMenu",t)},expression:"healthIndexesSchedules.searchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm lịch gửi")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID bệnh nhân"},model:{value:e.healthIndexesSchedules.search.id,callback:function(t){e.$set(e.healthIndexesSchedules.search,"id",t)},expression:"healthIndexesSchedules.search.id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên bệnh nhân"},model:{value:e.healthIndexesSchedules.search.name,callback:function(t){e.$set(e.healthIndexesSchedules.search,"name",t)},expression:"healthIndexesSchedules.search.name"}}),a("v-select",{attrs:{label:"Trạng thái lịch gửi",items:e.healthIndexesSchedules.allStatus},model:{value:e.healthIndexesSchedules.search.status,callback:function(t){e.$set(e.healthIndexesSchedules.search,"status",t)},expression:"healthIndexesSchedules.search.status"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesSchedules.searchMenu=!1,e.healthIndexesSchedules.page=1,e.getHealthIndexesSchedule(e.healthIndexesSchedules.page,e.healthIndexesSchedules.pageSize,e.healthIndexesSchedules.search)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.healthIndexesSchedules.searchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.scheduledTime",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.convertSecond(a.scheduledTime))+" ")]}},{key:"item.status",fn:function(t){var n=t.item;return[0==n.status?a("span",[e._v("Đang hoạt động")]):a("span",{staticStyle:{color:"red"}},[e._v("Đã xóa")])]}},{key:"item.more",fn:function(t){var n=t.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("more_vert")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(t){return e.getDetailSchedule(n.id)}}},[a("v-list-item-title",[e._v("Xem chi tiết")])],1),a("v-list-item",{on:{click:function(t){e.healthIndexesSchedules.deleteId=n.id,e.healthIndexesSchedules.deleteDialog=!0}}},[a("v-list-item-title",[e._v("Xóa lịch gửi")])],1)],1)],1)]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesSchedules.pages},on:{input:function(t){return e.getHealthIndexesSchedule(e.healthIndexesSchedules.page,e.healthIndexesSchedules.pages,e.healthIndexesSchedules.search)}},model:{value:e.healthIndexesSchedules.page,callback:function(t){e.$set(e.healthIndexesSchedules,"page",t)},expression:"healthIndexesSchedules.page"}})],1),a("br")]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.healthIndexesSchedules.detailScheduleDialog,callback:function(t){e.$set(e.healthIndexesSchedules,"detailScheduleDialog",t)},expression:"healthIndexesSchedules.detailScheduleDialog"}},[null!=e.healthIndexesSchedules.detailSchedule?a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chi tiết lịch gửi")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("h2",[e._v("Bệnh nhân: "+e._s(e.healthIndexesSchedules.detailSchedule.patient.name))]),a("h2",[e._v("Bác sĩ tạo chỉ số: "+e._s(e.healthIndexesSchedules.detailSchedule.doctor.role)+" "+e._s(e.healthIndexesSchedules.detailSchedule.doctor.name))])])],1),a("v-row",[a("v-col",[a("h2",[e._v("Thông tin mẫu chỉ số sức khỏe:")]),a("h4",[e._v("Tên: "+e._s(e.healthIndexesSchedules.detailSchedule.index.name))]),a("h4",[e._v("Mô tả: "+e._s(e.healthIndexesSchedules.detailSchedule.index.description))]),a("h4",[e._v("Danh sách các chỉ số cần gửi")]),e._l(e.healthIndexesSchedules.detailSchedule.index.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[a("h4",[e._v(" - "+e._s(t.name)+" ")])])})),a("h4",[e._v("Thời gian nhắc nhở: "+e._s(e.convertSecond(e.healthIndexesSchedules.detailSchedule.scheduledTime)))]),a("h4",[e._v("Thời gian bắt đầu gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesSchedules.detailSchedule.startedAt)))]),a("h4",[e._v("Thời gian kết thúc gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesSchedules.detailSchedule.endedAt)))])],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesSchedules.detailScheduleDialog=!1}}},[e._v("Đóng")])],1)],1):e._e()],1),a("v-dialog",{attrs:{persistent:"",width:"400"},model:{value:e.healthIndexesSchedules.deleteDialog,callback:function(t){e.$set(e.healthIndexesSchedules,"deleteDialog",t)},expression:"healthIndexesSchedules.deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline red",attrs:{"primary-title":"",dark:""}},[a("span",{staticStyle:{color:"white"}},[e._v("Xác nhận xóa")])]),a("v-divider"),a("v-card-text",[a("br"),e._v(" Bạn có chắc chắn muốn xóa lịch gửi này? ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesSchedules.deleteDialog=!1,e.deleteSchedule(e.healthIndexesSchedules.deleteId)}}},[e._v(" XÓA ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesSchedules.deleteDialog=!1,e.healthIndexesSchedules.deleteId=0}}},[e._v(" ĐÓNG ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"6",xl:"6"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:e.healthIndexesResult.headers,items:e.healthIndexesResult.data,"hide-default-footer":"","no-data-text":"Hiện tại chưa có kết quả nào","loading-text":"Đang lấy dữ liệu...",loading:e.healthIndexesResult.loading},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Kết quả chỉ số bệnh nhân gửi lên")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},n),[a("v-icon",[e._v("search")]),e._v(" Tìm kiếm ")],1)]}}]),model:{value:e.healthIndexesResult.searchMenu,callback:function(t){e.$set(e.healthIndexesResult,"searchMenu",t)},expression:"healthIndexesResult.searchMenu"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Tìm kiếm lịch gửi")])]),a("v-card-text",[a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID bệnh nhân"},model:{value:e.healthIndexesResult.search.patient_id,callback:function(t){e.$set(e.healthIndexesResult.search,"patient_id",t)},expression:"healthIndexesResult.search.patient_id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên bệnh nhân"},model:{value:e.healthIndexesResult.search.patient_name,callback:function(t){e.$set(e.healthIndexesResult.search,"patient_name",t)},expression:"healthIndexesResult.search.patient_name"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID lịch gửi"},model:{value:e.healthIndexesResult.search.scheduleId,callback:function(t){e.$set(e.healthIndexesResult.search,"scheduleId",t)},expression:"healthIndexesResult.search.scheduleId"}}),a("v-text-field",{attrs:{clearable:"",type:"number",label:"ID chỉ số sức khỏe"},model:{value:e.healthIndexesResult.search.index_id,callback:function(t){e.$set(e.healthIndexesResult.search,"index_id",t)},expression:"healthIndexesResult.search.index_id"}}),a("v-text-field",{attrs:{clearable:"",label:"Tên chỉ số sức khỏe"},model:{value:e.healthIndexesResult.search.index_name,callback:function(t){e.$set(e.healthIndexesResult.search,"index_name",t)},expression:"healthIndexesResult.search.index_name"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.healthIndexesResult.searchMenu=!1,e.healthIndexesResult.page=1,e.getHealthIndexesResult(e.healthIndexesResult.page,e.healthIndexesResult.pageSize,e.healthIndexesResult.search)}}},[e._v("Tìm kiếm")]),a("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){e.healthIndexesResult.searchMenu=!1}}},[e._v("Đóng")])],1)],1)],1)],1)]},proxy:!0},{key:"item.schedule",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.schedule.patient.name)+" ")]}},{key:"item.createdAt",fn:function(t){return[e._v(" _ ")]}},{key:"item.more",fn:function(t){var n=t.item;return[a("a",{on:{click:function(t){return t.stopPropagation(),e.getDetailHealthIndexesResultSchedule(n.schedule.id,n.tagId)}}},[e._v("Xem chi tiết")])]}},{key:"footer",fn:function(){return[a("br"),a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"total-visible":7,length:e.healthIndexesResult.pages},on:{input:function(t){return e.getHealthIndexesResult(e.healthIndexesResult.page,e.healthIndexesResult.pages,e.healthIndexesResult.search)}},model:{value:e.healthIndexesResult.page,callback:function(t){e.$set(e.healthIndexesResult,"page",t)},expression:"healthIndexesResult.page"}})],1),a("br")]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.healthIndexesResult.detailResultDialog,callback:function(t){e.$set(e.healthIndexesResult,"detailResultDialog",t)},expression:"healthIndexesResult.detailResultDialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chi tiết kết quả")])]),null!=e.healthIndexesResult.detailResult.schedule?a("v-card-text",[a("v-container",[a("h1",[e._v("Thông tin lịch gửi")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bệnh nhân: "+e._s(e.healthIndexesResult.detailResult.schedule.patient.name))]),a("h3",[e._v("Bác sĩ tạo chỉ số: "+e._s(e.healthIndexesResult.detailResult.schedule.doctor.role)+" "+e._s(e.healthIndexesResult.detailResult.schedule.doctor.name))])])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Thông tin mẫu chỉ số sức khỏe")]),a("h4",[e._v("Tên: "+e._s(e.healthIndexesResult.detailResult.schedule.index.name))]),a("h4",[e._v("Mô tả: "+e._s(e.healthIndexesResult.detailResult.schedule.index.description))]),a("h4",[e._v("Danh sách các chỉ số cần gửi: ")]),e._l(e.healthIndexesResult.detailResult.schedule.index.fields,(function(t){return a("div",{key:t.id,staticStyle:{"padding-left":"20px"}},[a("h4",[e._v(" - "+e._s(t.name)+" ")])])})),a("h4",[e._v("Thời gian nhắc nhở: "+e._s(e.convertSecond(e.healthIndexesResult.detailResult.schedule.scheduledTime)))]),a("h4",[e._v("Thời gian bắt đầu gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesResult.detailResult.schedule.startedAt)))]),a("h4",[e._v("Thời gian kết thúc gửi: "+e._s(e.returnTimeFromTimeArray(e.healthIndexesResult.detailResult.schedule.endedAt)))])],2)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"hide-default-header":"",headers:e.healthIndexesResult.detailResult.headers,items:e.healthIndexesResult.detailResult.result,"hide-default-footer":"","no-data-text":"Hiện tại chưa có kết quả nào"},scopedSlots:e._u([{key:"item.field",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.field.name)+" ")]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Kết quả")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0}],null,!1,1096165883)})],1)],1)],1)],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.healthIndexesResult.detailResult.schedule=null,e.healthIndexesResult.detailResult.result=[],e.healthIndexesResult.detailResultDialog=!1}}},[e._v("Đóng")])],1)],1)],1)],1),a("v-row",{staticClass:"fill-height",attrs:{wrap:"",row:""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"4",xl:"4"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-card-title",[a("h3",[e._v("Thông tin chi tiết bệnh nhân")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{readonly:"",label:"ID"},model:{value:e.patientDetail.id,callback:function(t){e.$set(e.patientDetail,"id",t)},expression:"patientDetail.id"}}),a("v-text-field",{attrs:{readonly:"",label:"Tên"},model:{value:e.patientDetail.name,callback:function(t){e.$set(e.patientDetail,"name",t)},expression:"patientDetail.name"}}),a("v-text-field",{attrs:{readonly:"",label:"Ngày sinh"},model:{value:e.patientDetail.dateOfBirth,callback:function(t){e.$set(e.patientDetail,"dateOfBirth",t)},expression:"patientDetail.dateOfBirth"}}),a("v-text-field",{attrs:{readonly:"",label:"Giới tính"},model:{value:e.patientDetail.gender,callback:function(t){e.$set(e.patientDetail,"gender",t)},expression:"patientDetail.gender"}}),a("v-text-field",{attrs:{readonly:"",label:"Email"},model:{value:e.patientDetail.email,callback:function(t){e.$set(e.patientDetail,"email",t)},expression:"patientDetail.email"}}),a("v-text-field",{attrs:{readonly:"",label:"Số điện thoại"},model:{value:e.patientDetail.phoneNumber,callback:function(t){e.$set(e.patientDetail,"phoneNumber",t)},expression:"patientDetail.phoneNumber"}}),a("h3",[e._v("Bác sĩ đa khoa phụ trách: "+e._s(e.patientDetail.practitioner.name))])],1),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bác sĩ chuyên khoa phụ trách:")]),e._l(e.patientDetail.specialists,(function(t){return a("h3",{key:t.id},[e._v(" - "+e._s(t.name))])}))],2),a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Bác sĩ dinh dưỡng phụ trách:")]),e._l(e.patientDetail.dietitians,(function(t){return a("h3",{key:t.id},[e._v(" - "+e._s(t.name))])}))],2)],1),""!=e.patientDetail.id&&0!=e.patientDetail.id?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-4",attrs:{"show-expand":"","hide-default-footer":"",items:e.patientDetail.inquiries,headers:e.inquiryHeaders},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[a("h3",[e._v("Yêu cầu tư vấn")])]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1)]},proxy:!0},{key:"item.patient",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.patient.name)+" ")]}},{key:"item.type",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.returnInquiryType(a.type))+" ")]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("td",{attrs:{colspan:e.inquiryHeaders.length}},[a("br"),a("h4",[e._v("Nội dung yêu cầu tư vấn: "+e._s(n.content))]),a("br"),a("a",{on:{click:function(t){return t.stopPropagation(),e.getDetailInquiry(n.id)}}},[e._v("Xem chi tiết >>")]),a("br")])]}}],null,!1,2526487847)})],1)],1):e._e(),""!=e.patientDetail.id&&0!=e.patientDetail.id?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.newSchedule.patientId=e.patientDetail.id,e.newScheduleDialog=!0}}},[e._v("Tạo lịch gửi chỉ số sức khỏe")]),a("br"),a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.removePatientObj.id=e.patientDetail.id,e.removePatientObj.dialog=!0}}},[e._v("Xóa bệnh nhân khỏi quyền quản lý")])],1)],1):e._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12",lg:"8",xl:"8"}},[a("v-card",{staticClass:"elevation-4",attrs:{height:"100%"}},[a("v-card-title",[a("h3",[e._v("Chi tiết yêu cầu tư vấn")])]),null!=e.detailInquiry?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",[e._v("Nội dung: "+e._s(e.detailInquiry.content))]),a("h3",[e._v("Kiểu yêu cầu: "+e._s(e.returnInquiryType(e.detailInquiry.type)))]),0==e.detailInquiry.type?a("h3",[e._v("Thời gian làm xét nghiệm: "+e._s(e.returnTimeFromTimeArray(e.detailInquiry.date)))]):e._e(),1==e.detailInquiry.type?a("h3",[e._v("Thời gian ăn: "+e._s(e.returnTimeFromTimeArray(e.detailInquiry.date)))]):e._e(),a("h3",[e._v("Ảnh: ")])])],1),a("v-row",[e._l(e.detailInquiry.medicalRecords,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v("Tư vấn của "+e._s(e.returnRole(t.doctor.role))+" "+e._s(t.doctor.name))]),a("v-card-text",[a("h3",[e._v(" Chẩn đoán: "+e._s(t.diagnose)+" "),a("br"),e._v(" Kê đơn: "+e._s(t.prescription)+" "),a("br"),e._v(" Ghi chú: "+e._s(t.note)+" "),a("br"),e._v(" Trạng thái: "),0==t.status?a("span",{staticStyle:{color:"red"}},[e._v("Đang chờ bác sĩ đa khoa duyệt")]):a("span",{staticStyle:{color:"green"}},[e._v("Đã được bác sĩ đa khoa duyệt")])])])],1)],1)})),e._l(e.detailInquiry.dietRecords,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v("Tư vấn của "+e._s(e.returnRole(t.doctor.role))+" "+e._s(t.doctor.name))]),a("v-card-text",[a("h3",[e._v(" Kê đơn: "+e._s(t.prescription)+" "),a("br"),e._v(" Ghi chú: "+e._s(t.note)+" "),a("br"),e._v(" Trạng thái: "),0==t.status?a("span",{staticStyle:{color:"red"}},[e._v("Đang chờ bác sĩ đa khoa duyệt")]):a("span",{staticStyle:{color:"green"}},[e._v("Đã được duyệt")])])])],1)],1)}))],2),a("br"),a("v-btn",{attrs:{rounded:"",color:"primary"},on:{click:function(t){return e.openNewRecordDialog(e.detailInquiry.id,e.detailInquiry.type)}}},[e._v("Thêm tư vấn mới")]),a("br"),a("br"),a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[e._v(" Giải đáp thắc mắc ")]),a("v-card-text",e._l(e.detailInquiry.replies,(function(t){return a("div",{key:t.id,staticStyle:{margin:"10px",padding:"10px",border:"1px solid grey","border-radius":"10px"}},[a("h4",[e._v(e._s(t.user.name)+" ("+e._s(e.returnRole(t.user.role))+") ")]),a("p",[e._v(e._s(t.content))])])})),0),a("v-card-actions",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{"background-color":"#CFD8DC",label:"Nhập câu trả lời tại đây...",outlined:"",rows:"4"},model:{value:e.replyText,callback:function(t){e.replyText=t},expression:"replyText"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{disabled:""==e.replyText,color:"primary"},on:{click:function(t){return e.addReply(e.detailInquiry.id,e.replyText)}}},[e._v("Trả lời")])],1)],1)],1),a("br")],1)],1)],1):e._e(),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.newRecord.dialog,callback:function(t){e.$set(e.newRecord,"dialog",t)},expression:"newRecord.dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Tạo tư vấn mới")])]),a("v-card-text",[a("v-container",[1==e.newRecord.isMedical?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Chẩn đoán"},model:{value:e.newRecord.obj.diagnose,callback:function(t){e.$set(e.newRecord.obj,"diagnose",t)},expression:"newRecord.obj.diagnose"}})],1)],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Đơn thuốc"},model:{value:e.newRecord.obj.prescription,callback:function(t){e.$set(e.newRecord.obj,"prescription",t)},expression:"newRecord.obj.prescription"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Ghi chú"},model:{value:e.newRecord.obj.note,callback:function(t){e.$set(e.newRecord.obj,"note",t)},expression:"newRecord.obj.note"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1==e.newRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.newRecord.obj.diagnose||""==e.newRecord.obj.prescription||""==e.newRecord.obj.note,text:""},on:{click:function(t){e.newRecord.dialog=!1,e.addNewRecord(e.newRecord.inquiryId,e.newRecord.isMedical,e.newRecord.obj.prescription,e.newRecord.obj.note,e.newRecord.obj.diagnose)}}},[e._v("Tạo mới")]):e._e(),0==e.newRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.newRecord.obj.prescription||""==e.newRecord.obj.note,text:""},on:{click:function(t){e.newRecord.dialog=!1,e.addNewRecord(e.newRecord.inquiryId,e.newRecord.isMedical,e.newRecord.obj.prescription,e.newRecord.obj.note)}}},[e._v("Tạo mới")]):e._e(),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.newRecord.dialog=!1}}},[e._v("Đóng")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:e.editRecord.dialog,callback:function(t){e.$set(e.editRecord,"dialog",t)},expression:"editRecord.dialog"}},[null!=e.editRecord.obj?a("v-card",{staticClass:"elevation-4"},[a("v-card-title",{staticClass:"headline primary",attrs:{"primary-title":""}},[a("span",{staticStyle:{color:"white"}},[e._v("Chỉnh sửa tư vấn ")])]),a("v-card-text",[a("v-container",[1==e.editRecord.isMedical?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Chẩn đoán"},model:{value:e.editRecord.obj.diagnose,callback:function(t){e.$set(e.editRecord.obj,"diagnose",t)},expression:"editRecord.obj.diagnose"}})],1)],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Đơn thuốc"},model:{value:e.editRecord.obj.prescription,callback:function(t){e.$set(e.editRecord.obj,"prescription",t)},expression:"editRecord.obj.prescription"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"Ghi chú"},model:{value:e.editRecord.obj.note,callback:function(t){e.$set(e.editRecord.obj,"note",t)},expression:"editRecord.obj.note"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),1==e.editRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.editRecord.obj.diagnose||""==e.editRecord.obj.prescription||""==e.editRecord.obj.note,text:""},on:{click:function(t){e.updateRecord(e.editRecord.recordId,e.editRecord.recordIndex,e.editRecord.isMedical,e.editRecord.obj.prescription,e.editRecord.obj.note,e.editRecord.obj.diagnose),e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("Chỉnh sửa")]):e._e(),0==e.editRecord.isMedical?a("v-btn",{attrs:{color:"blue",disabled:""==e.editRecord.obj.prescription||""==e.editRecord.obj.note,text:""},on:{click:function(t){e.updateRecord(e.editRecord.recordId,e.editRecord.recordIndex,e.editRecord.isMedical,e.editRecord.obj.prescription,e.editRecord.obj.note),e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("Chỉnh sửa")]):e._e(),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.editRecord.dialog=!1,e.editRecord.obj=null}}},[e._v("Đóng")])],1)],1):e._e()],1)],1)],1)],1)],1)},zt=[],Gt={data:function(){return{allPatients:[],patientHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"TUỔI",value:"age",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],patientPage:1,patientPageSize:10,patientPages:0,showPatient:!0,loadingPatient:!1,patientDetail:{dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},inquiryHeaders:[{text:"ID",value:"id",align:"start"},{text:"BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"",value:"data-table-expand"}],patientSearch:{name:void 0,status:0,gender:void 0,age:void 0},patientSearchMenu:!1,patientAllStatus:[{key:2,text:"Đã được gán cho Bác sĩ đa khoa",value:!1},{key:4,text:"Đã được gán cho Bác sĩ chuyên khoa",value:!1},{key:8,text:"Đã được gán cho Bác sĩ dinh dưỡng",value:!1},{key:16,text:"Đã được đặt lịch gửi chỉ số sức khỏe",value:!1}],detailInquiry:null,replyText:"",doctorHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"EMAIL",value:"email",align:"start"},{text:"GIỚI TÍNH",value:"gender",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"right"}],editRecord:{obj:null,recordId:0,recordIndex:-1,isMedical:null,dialog:!1},newRecord:{obj:{diagnose:"",note:"",prescription:""},inquiryId:0,isMedical:null,dialog:!1},genderArr:[{text:"Nam",value:0},{text:"Nữ",value:1},{text:"Khác",value:2}],removePatientObj:{dialog:!1,id:0},inquiries:[],loadingInquiries:!1,inquiryPage:1,inquiryPageSize:10,inquiryPages:0,inquiryHeadersMain:[{text:"ID",value:"id",align:"start"},{text:"BỆNH NHÂN",value:"patient",align:"start"},{text:"KIỂU YÊU CẦU",value:"type",align:"start"},{text:"NỘI DUNG",value:"content",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],inquiryAssignValue:[{text:"Tất cả các yêu cầu",value:!0},{text:"Yêu cầu chưa được gán cho bác sĩ cấp dưới",value:!1}],inquiryAssign:!0,healthIndexesSchedules:{data:[],page:1,pages:0,pageSize:10,search:{id:void 0,status:0,name:void 0},allStatus:[{text:"Đang hoạt động",value:0},{text:"Đã xóa",value:10}],searchMenu:!1,headers:[{text:"ID",value:"id",align:"start"},{text:"BỆNH NHÂN",value:"patient",align:"start"},{text:"THỜI GIAN NHẮC",value:"scheduledTime",align:"start"},{text:"TRẠNG THÁI",value:"status",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],loading:!1,deleteId:0,deleteDialog:!1,detailSchedule:null,detailScheduleDialog:!1},newScheduleDialog:!1,newSchedule:{patientId:0,month:"",week:"",day:"",hour:"",startDate:"",startDateMenu:!1,startTime:"08:00",startTimeMenu:!1,indexObj:[]},healthIndexes:[],healthIndexesHeaders:[{text:"ID",value:"id",align:"start"},{text:"TÊN",value:"name",align:"start"},{text:"MÔ TẢ",value:"description",align:"start"},{text:"",value:"data-table-expand"}],loadingHealthIndexes:!1,detailHealthIndexes:null,healthIndexesPage:1,healthIndexesPages:0,healthIndexesPageSize:10,healthIndexesResult:{data:[],page:1,pages:0,pageSize:10,loading:!1,headers:[{text:"ID",value:"tagId",align:"start"},{text:"BỆNH NHÂN",value:"schedule",align:"start"},{text:"THỜI GIAN GỬI",value:"createdAt",align:"start"},{text:"KẾT QUẢ",value:"value",align:"start"},{text:"HÀNH ĐỘNG",value:"more",align:"end"}],search:{patient_id:void 0,patient_name:void 0,scheduleId:void 0,index_id:void 0,index_name:void 0},searchMenu:!1,detailResult:{schedule:null,result:[],headers:[{text:"CHỈ SỐ",value:"field",align:"start"},{text:"KẾT QUẢ",value:"value",align:"start"}]},detailResultDialog:!1}}},computed:Object(o["a"])({},Object(c["b"])({newNotification:"newNotification",handleNotificationObj:"handleNotificationObj"}),{checkTimeScheduleAvailable:function(){for(var e=new Array(this.newSchedule.month,this.newSchedule.week,this.newSchedule.day,this.newSchedule.hour),t=0;t<e.length;t++)if(0!=e[t]&&""!=e[t])return!0;return!1}}),watch:{newNotification:function(){this.handleNewNotification(this.newNotification)}},methods:{returnRole:function(e){var t="";switch(e){case"PATIENT":t="Bệnh nhân";break;case"PRACTITIONER":t="Bác sĩ đa khoa";break;case"SPECIALIST":t="Bác sĩ chuyên khoa";break;case"DIETITIAN":t="Bác sĩ dinh dưỡng";break;case"COORDINATOR":t="ĐIỀU PHỐI VIÊN";break;default:t="";break}return t},scrollBottom:function(){window.scrollTo(0,document.body.scrollHeight)},returnTimeFromTimeArray:function(e){try{var t=0,a=[],n=[];while(t<e.length)t<3?a.push(e[t]):n.push(e[t]),t++;var i="".concat(a.join("-")," ").concat(n.join(":"));return Ne()(i).format("HH:mm:ss DD/MM/YYYY")}catch(s){return console.log(s),"_"}},clearSpecAndDietCheck:function(){return 1==this.patientAllStatus[0].value?(this.patientAllStatus[1].value=!1,void(this.patientAllStatus[2].value=!1)):void 0},returnInquiryType:function(e){return 0==e?"Khám bệnh":"Dinh dưỡng"},checkGender:function(e){switch(e){case 0:return"Nam";case 1:return"Nữ";case 2:return"Khác"}},checkString:function(e){return null!=e&void 0!=e?e:"_"},getAllPatients:function(e,t,a){var n=this;this.loadingPatient=!0,this.allPatients=[];var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],","));for(var r=0,o=0;o<this.patientAllStatus.length;o++)1==this.patientAllStatus[o].value&&(r+=this.patientAllStatus[o].key);0!=r&&(s+="status=".concat(r,",")),i.search=s;var c="".concat(L.apiUrl,"/patients");F.getApi(c,i).then((function(e){"2"===e.status.toString()[0]?(n.patientPages=e.data.totalPages,n.updatePatients(e.data.content)):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingPatient=!1}))},updatePatients:function(e){this.allPatients=e},getPatientDetail:function(e){var t=this;this.scrollBottom(),this.detailInquiry=null,this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết bệnh nhân...");var a="".concat(L.apiUrl,"/patients/").concat(e),n={id:e};F.getApi(a,n).then((function(e){"2"===e.status.toString()[0]?t.processPatientDetailFromServer(e.data):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getPatientDetailAfterGetInquiry:function(e,t){var a=this;this.scrollBottom(),this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết bệnh nhân...");var n="".concat(L.apiUrl,"/patients/").concat(e),i={id:e};F.getApi(n,i).then((function(e){"2"===e.status.toString()[0]?a.processPatientDetailFromServer(e.data,t):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},processPatientDetailFromServer:function(e){this.patientDetail.dateOfBirth=e.dateOfBirth,this.patientDetail.createdDate=e.createdDate,this.patientDetail.email=e.email,this.patientDetail.gender=this.checkGender(e.gender),this.patientDetail.id=e.id,this.patientDetail.name=e.name,this.patientDetail.phoneNumber=e.phoneNumber,this.patientDetail.inquiries=e.inquiries,e.practitioner?this.patientDetail.practitioner=e.practitioner:this.patientDetail.practitioner={name:""},e.specialists?this.patientDetail.specialists=e.specialists:this.patientDetail.specialists=[],e.dietitians?this.patientDetail.dietitians=e.dietitians:this.patientDetail.dietitians=[]},getRepliesForInquiry:function(e,t,a,n){var i=this,s="".concat(L.apiUrl,"/replies"),l={"inquiry-id":t,page:a,size:n};F.getApi(s,l).then((function(t){if("2"===t.status.toString()[0]){var a=t.data.content;i.patientDetail.inquiries[e].replies=a}else i.$toast.open({message:t.data.message,type:"error"})})).catch((function(e){i.$toast.open({message:e,type:"error"})}))},getDetailInquiry:function(e){var t=this;this.scrollBottom(),this.detailInquiry=null,this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết yêu cầu tư vấn...");var a="".concat(L.apiUrl,"/inquiries/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.detailInquiry=e.data,t.getPatientDetailAfterGetInquiry(e.data.patient.id,!0)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){t.$toast.open({message:e,type:"error"})})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},addReply:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang thêm câu trả lời...");var n={inquiry_id:e,reply:t},i="".concat(L.apiUrl,"/replies");F.postApi(i,n).then((function(e){"2"===e.status.toString()[0]?(a.detailInquiry.replies.push(e.data),a.replyText=""):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.$store.dispatch("turnOffLoadingDialog")}))},findObjIndexById:function(e,t){for(var a=-1,n=0;n<e.length;n++)e[n].id==t&&(a=n);return a},openEditRecordDialog:function(e,t,a){this.editRecord.obj=1==a?Object.assign({},this.detailInquiry.medicalRecords[t]):Object.assign({},this.detailInquiry.dietRecords[t]),this.editRecord.recordId=e,this.editRecord.recordIndex=t,this.editRecord.isMedical=a,this.editRecord.dialog=!0},updateRecord:function(e,t,a,n,i,s){var l=this,r="".concat(L.apiUrl,"/records"),o={id:e,prescription:n,note:i};s&&(o.diagnose=s),this.$store.dispatch("turnOnLoadingDialog","Đang chỉnh sửa trả lời tư vấn..."),F.putApi(r,o).then((function(e){"2"===e.status.toString()[0]?(l.$toast.open({message:"Chỉnh sửa tư vấn thành công",type:"success"}),1==a?(l.detailInquiry.medicalRecords[t].diagnose=s,l.detailInquiry.medicalRecords[t].prescription=n,l.detailInquiry.medicalRecords[t].note=i):(l.detailInquiry.dietRecords[t].prescription=n,l.detailInquiry.dietRecords[t].note=i)):l.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){l.$store.dispatch("turnOffLoadingDialog")}))},openNewRecordDialog:function(e,t){this.newRecord.inquiryId=e,this.newRecord.isMedical=0==t,this.newRecord.dialog=!0},addNewRecord:function(e,t,a,n,i){var s=this,l="".concat(L.apiUrl,"/records"),r={inquiry_id:e,prescription:a,note:n};i&&(r.diagnose=i),this.$store.dispatch("turnOnLoadingDialog","Đang tạo tư vấn..."),F.postApi(l,r).then((function(e){"2"===e.status.toString()[0]?(s.$toast.open({message:"Tư vấn thành công",type:"success"}),1==t?s.detailInquiry.medicalRecords.push(e.data):s.detailInquiry.dietRecords.push(e.data),s.newRecord={obj:{diagnose:"",note:"",prescription:""},inquiryId:0,inquiryIndex:-1,isMedical:null,dialog:!1}):s.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){s.$store.dispatch("turnOffLoadingDialog")}))},removePatient:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang xóa khỏi quyền quản lý...");var a="".concat(L.apiUrl,"/patients/").concat(e,"/doctor");F.deleteApi(a).then((function(a){"2"===a.status.toString()[0]?(t.$toast.open({message:"Xóa quyền quản lý thành công",type:"success"}),t.patientDetail.id==e&&(t.patientDetail={dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},t.detailInquiry=null),t.patientPage=1,t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign)):t.$toast.open({message:a.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getInquiries:function(e,t,a){var n=this;this.detailInquiry=null,this.inquiries=[],this.loadingInquiries=!0;var i="".concat(L.apiUrl,"/inquiries"),s={page:e,size:t};a&&(s.assigned=a),F.getApi(i,s).then((function(e){"2"===e.status.toString()[0]?(n.inquiries=e.data.content,n.inquiryPages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.loadingInquiries=!1}))},logging:function(){console.log(this.patientDetail)},convertSecond:function(e){var t=Math.floor(e/18144e3),a=0==t?"":"".concat(t," tháng "),n=Math.floor(e%18144e3/604800),i=0==n?"":"".concat(n," tuần "),s=Math.floor(e%18144e3%604800/86400),l=0==s?"":"".concat(s," ngày "),r=Math.floor(e%18144e3%604800%86400/3600),o=0==r?"":"".concat(r," giờ "),c=a+i+l+o;return c},getHealthIndexesSchedule:function(e,t,a){var n=this;this.healthIndexesSchedules.data=[],this.healthIndexesSchedules.loading=!0;var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],",")),0==a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/health_indexes/schedule");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.healthIndexesSchedules.data=e.data.content,n.healthIndexesSchedules.pages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.healthIndexesSchedules.loading=!1}))},getDetailSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết lịch gửi...");var a="".concat(L.apiUrl,"/health_indexes/schedule/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.healthIndexesSchedules.detailSchedule=e.data,t.healthIndexesSchedules.detailScheduleDialog=!0):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},createSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang tạo lịch gửi mới...");var a=0;""!=e.month&&(a+=18144e3*parseInt(e.month)),""!=e.week&&(a+=604800*parseInt(e.week)),""!=e.day&&(a+=86400*parseInt(e.day)),""!=e.hour&&(a+=3600*parseInt(e.hour));var n={index_id:e.indexObj[0].id,patient_id:e.patientId,scheduled:a,start:"".concat(e.startDate.split("-").reverse().join("/")," ").concat(e.startTime,":00")},i="".concat(L.apiUrl,"/health_indexes/schedule");F.postApi(i,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Tạo lịch gửi thành công",type:"success"}),t.healthIndexesSchedules.page=1,t.healthIndexesSchedules.search={id:void 0,status:void 0,name:void 0},t.getHealthIndexesSchedule(t.healthIndexesSchedules.page,t.healthIndexesSchedules.pageSize,t.healthIndexesSchedules.search)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},deleteSchedule:function(e){var t=this;this.$store.dispatch("turnOnLoadingDialog","Đang xóa lịch gửi...");var a="".concat(L.apiUrl,"/health_indexes/schedule"),n={id:e};F.deleteApi(a,n).then((function(e){"2"===e.status.toString()[0]?(t.$toast.open({message:"Xóa lịch gửi thành công",type:"success"}),t.healthIndexesSchedules.page=1,t.getHealthIndexesSchedule(t.healthIndexesSchedules.page,t.healthIndexesSchedules.pageSize,t.healthIndexesSchedules.search)):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getHealthIndexesResult:function(e,t,a){var n=this;this.healthIndexesResult.data=[],this.healthIndexesResult.loading=!0;var i={page:e,size:t},s="";for(var l in a)void 0!=a[l]&&null!=a[l]&&""!=a[l]&&(s+="".concat(l,"=").concat(a[l],","));""!=s&&(i.search=s);var r="".concat(L.apiUrl,"/health_indexes/result");F.getApi(r,i).then((function(e){"2"===e.status.toString()[0]?(n.healthIndexesResult.data=e.data.content,n.healthIndexesResult.pages=e.data.totalPages):n.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){n.healthIndexesResult.loading=!1}))},getDetailHealthIndexesResultSchedule:function(e,t){var a=this;this.$store.dispatch("turnOnLoadingDialog","Đang lấy thông tin chi tiết kết quả...");var n="".concat(L.apiUrl,"/health_indexes/schedule/").concat(e);F.getApi(n).then((function(e){"2"===e.status.toString()[0]?(a.healthIndexesResult.detailResult.schedule=e.data,a.getDetailHealthIndexesResult(t)):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e),a.$store.dispatch("turnOffLoadingDialog")}))},getDetailHealthIndexesResult:function(e){var t=this,a="".concat(L.apiUrl,"/health_indexes/result/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]?(t.healthIndexesResult.detailResult.result=e.data,t.healthIndexesResult.detailResultDialog=!0):t.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){t.$store.dispatch("turnOffLoadingDialog")}))},getRepliesFromNewNotification:function(e){var t=this,a="".concat(L.apiUrl,"/inquiries/").concat(e);F.getApi(a).then((function(e){"2"===e.status.toString()[0]&&null!=t.detailInquiry&&t.detailInquiry.id==e.data.id&&(t.detailInquiry.replies=e.data.replies)})).catch((function(e){console.log(e)}))},getHealthIndexes:function(e,t){var a=this;this.healthIndexes=[],this.loadingHealthIndexes=!0;var n={page:e,size:t},i="".concat(L.apiUrl,"/health_indexes");F.getApi(i,n).then((function(e){"2"===e.status.toString()[0]?(a.healthIndexesPages=e.data.totalPages,a.healthIndexes=e.data.content):a.$toast.open({message:e.data.message,type:"error"})})).catch((function(e){console.log(e)})).finally((function(){a.loadingHealthIndexes=!1}))},handleNewNotification:function(e){var t=this,a="".concat(L.apiUrl,"/notifications/").concat(e.notificationId);F.getApi(a).then((function(e){if("2"===e.status.toString()[0]){var a=e.data.type,n=e.data.payloadId;switch(a){case 0:t.inquiryPage=1,t.inquiryAssign=!0,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;case 2:t.getRepliesFromNewNotification(n);break;case 3:t.patientPage=1,t.patientSearch={name:void 0,status:0,gender:void 0,age:void 0},t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;case 8:t.healthIndexesResult.page=1,t.healthIndexesResult.search={patient_id:void 0,patient_name:void 0,scheduleId:void 0,index_id:void 0,index_name:void 0},t.getHealthIndexesResult(t.healthIndexesResult.page,t.healthIndexesResult.pageSize,t.healthIndexesResult.search);break;case 10:n==t.patientDetail.id&&(t.patientDetail={dateOfBirth:"",createdDate:"",email:"",gender:"",id:"",inquiries:[],name:"",phoneNumber:"",practitioner:{},specialists:[],dietitians:[]},t.detailInquiry=null),t.patientPage=1,t.patientSearch={name:void 0,status:0,gender:void 0,age:void 0},t.getAllPatients(t.patientPage,t.patientPageSize,t.patientSearch),t.inquiryPage=1,t.getInquiries(t.inquiryPage,t.inquiryPageSize,t.inquiryAssign);break;default:console.log(a);break}}})).catch((function(e){console.log(e)}))},checkComeFromNotiPage:function(){var e=this.handleNotificationObj.typeNoti,t=this.handleNotificationObj.payloadId;if(console.log(e),-1!=e){switch(e){case 0:case 2:case 3:this.getDetailInquiry(t);break;case 8:this.getDetailHealthIndexesResult(t);break;case 10:break;default:break}this.$store.dispatch("resetHandleNotification")}}},created:function(){this.newSchedule.startDate=(new Date).toISOString().substr(0,10),this.checkComeFromNotiPage(),this.getInquiries(this.inquiryPage,this.inquiryPageSize,this.inquiryAssign),this.getAllPatients(this.patientPage,this.patientPageSize,this.patientSearch),this.getHealthIndexesSchedule(this.healthIndexesSchedules.page,this.healthIndexesSchedules.pageSize,this.healthIndexesSchedules.search),this.getHealthIndexesResult(this.healthIndexesResult.page,this.healthIndexesResult.pageSize,this.healthIndexesResult.search),this.getHealthIndexes(this.healthIndexesPage,this.healthIndexesPageSize)}},Et=Gt,Ft=Object(h["a"])(Et,Lt,zt,!1,null,"327ad112",null),Kt=Ft.exports;v()(Ft,{VBtn:ce["a"],VCard:I["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:Ge["a"],VContainer:Ee["a"],VDataTable:Fe["a"],VDatePicker:It["a"],VDialog:D["a"],VDivider:de["a"],VIcon:ue["a"],VList:he["a"],VListItem:pe["a"],VListItemTitle:ve["c"],VMenu:fe["a"],VPagination:Ke["a"],VRow:Ye["a"],VSelect:kt["a"],VSpacer:me["a"],VTextField:nt["a"],VTextarea:gt["a"],VTimePicker:Bt["a"],VToolbar:Xe["a"],VToolbarTitle:xe["a"]}),n["default"].use(A["a"]);var Yt=[{path:"/",name:"Home",component:Ve,redirect:"/notification",beforeEnter:function(e,t,a){var n=localStorage.getItem("ac_uid");n?a():a("/login")},children:[{path:"/notification",name:"Notification",component:We},{path:"/staff",name:"Staff",component:_t},{path:"/coordinator",name:"Coordinator",component:At},{path:"/practitioner",name:"Practitioner",component:Ut},{path:"/doctor",name:"Doctor",component:Kt},{path:"/info",name:"Info",component:mt}]},{path:"/login",name:"Login",component:st,beforeEnter:function(e,t,a){var n=localStorage.getItem("ac_uid");n?a("/"):a()}},{path:"*",redirect:"/"}],Xt=new A["a"]({mode:"history",base:"/abclinic-frontend/",routes:Yt}),Qt=Xt;n["default"].use(c["a"]);var Wt=new c["a"].Store({state:{navDrawer:!1,ac_uid:null,user:null,alertSnackbar:!1,alertMessage:"",alertColor:"error",loadingDialog:!1,loadingMsg:"",newNotification:null,typeNoti:-1,payloadId:-1},mutations:{toggleNavDrawer:function(e){e.navDrawer=!e.navDrawer},turnOnAlert:function(e,t){e.alertMessage=t.message,e.alertColor=t.color,e.alertSnackbar=!0},turnOffAlert:function(e){e.alertSnackbar=!1,e.alertMessage=""},setAuthData:function(e,t){e.ac_uid=localStorage.getItem("ac_uid"),e.user=t},clearAuthData:function(e){e.ac_uid=null,e.user=null,localStorage.removeItem("ac_uid"),Qt.replace("/login")},turnOnLoadingDialog:function(e,t){e.loadingMsg=t,e.loadingDialog=!0},turnOffLoadingDialog:function(e){e.loadingDialog=!1,e.loadingMsg=""},setNewNotification:function(e,t){e.newNotification=t},setHandleNotification:function(e,t){e.typeNoti=t.typeNoti,e.payloadId=t.payloadId},resetHandleNotification:function(e){e.typeNoti=-1,e.payloadId=-1}},actions:{toggleNavDrawer:function(e){var t=e.commit;t("toggleNavDrawer")},turnOnAlert:function(e,t){var a=e.commit;a("turnOnAlert",t)},turnOffAlert:function(e){var t=e.commit;t("turnOffAlert")},setAuthData:function(e,t){var a=e.commit;a("setAuthData",t)},clearAuthData:function(e){var t=e.commit;t("clearAuthData")},turnOnLoadingDialog:function(e,t){var a=e.commit;a("turnOnLoadingDialog",t)},turnOffLoadingDialog:function(e){var t=e.commit;t("turnOffLoadingDialog")},setNewNotification:function(e,t){var a=e.commit;a("setNewNotification",t)},setHandleNotification:function(e,t){var a=e.commit;a("setHandleNotification",t)},resetHandleNotification:function(e){var t=e.commit;t("resetHandleNotification")}},modules:{},getters:{navDrawer:function(e){return e.navDrawer},alertSnackbar:function(e){return e.alertSnackbar},alertMessage:function(e){return e.alertMessage},alertColor:function(e){return e.alertColor},loadingDialog:function(e){return e.loadingDialog},loadingMsg:function(e){return e.loadingMsg},user:function(e){return e.user},newNotification:function(e){return e.newNotification},handleNotificationObj:function(e){var t={payloadId:e.payloadId,typeNoti:e.typeNoti};return t}}}),Jt=a("f3091");n["default"].use(Jt["a"]);var Zt=new Jt["a"]({}),ea=(a("d1e78"),a("b079")),ta=a.n(ea);a("ce8c");n["default"].config.productionTip=!1,new n["default"]({router:Qt,store:Wt,vuetify:Zt,render:function(e){return e(j)}}).$mount("#app"),n["default"].use(ta.a,{duration:5e3,dismissible:!1,position:"bottom-right"})},afd3:function(e,t,a){},cccb:function(e,t,a){"use strict";var n=a("4230"),i=a.n(n);i.a}});
//# sourceMappingURL=app.e9b6b16a.js.map